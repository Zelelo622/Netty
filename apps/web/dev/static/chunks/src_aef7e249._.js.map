{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nimport { IComment, INotification } from \"@/types/types\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\nexport const generateSlug = (text: string): string => {\r\n  const rus = \"а-б-в-г-д-е-ё-ж-з-и-й-к-л-м-н-о-п-р-с-т-у-ф-х-ц-ч-ш-щ-ъ-ы-ь-э-ю-я\".split(\"-\");\r\n  const lat = \"a-b-v-g-d-e-e-zh-z-i-y-k-l-m-n-o-p-r-s-t-u-f-h-ts-ch-sh-shch--y--e-yu-ya\".split(\"-\");\r\n\r\n  let res = text.toLowerCase();\r\n\r\n  // Транслитерация\r\n  for (let i = 0; i < rus.length; i++) {\r\n    res = res.split(rus[i]).join(lat[i]);\r\n  }\r\n\r\n  return res\r\n    .replace(/[^a-z0-9]/g, \"-\")\r\n    .replace(/-+/g, \"-\")\r\n    .replace(/^-|-$/g, \"\");\r\n};\r\n\r\nexport function buildCommentTree(flatComments: IComment[]): IComment[] {\r\n  const map = new Map<string, IComment>();\r\n  const roots: IComment[] = [];\r\n\r\n  const sorted = [...flatComments].sort((a, b) => {\r\n    const aTime = a.createdAt?.seconds || 0;\r\n    const bTime = b.createdAt?.seconds || 0;\r\n    return aTime - bTime;\r\n  });\r\n\r\n  sorted.forEach((comment) => {\r\n    map.set(comment.id, { ...comment, replies: [] });\r\n  });\r\n\r\n  sorted.forEach((comment) => {\r\n    const node = map.get(comment.id)!;\r\n    if (comment.parentId) {\r\n      const parent = map.get(comment.parentId);\r\n      if (parent) {\r\n        parent.replies?.push(node);\r\n      }\r\n    } else {\r\n      roots.push(node);\r\n    }\r\n  });\r\n\r\n  return roots.sort((a, b) => b.votes - a.votes);\r\n}\r\n\r\nexport function findCommentDepth(comments: IComment[], targetId: string): number {\r\n  for (const comment of comments) {\r\n    if (comment.id === targetId) {\r\n      return comment.depth;\r\n    }\r\n    if (comment.replies && comment.replies.length > 0) {\r\n      const foundDepth = findCommentDepth(comment.replies, targetId);\r\n      if (foundDepth !== -1) {\r\n        return foundDepth;\r\n      }\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nexport const getNotificationText = (type: INotification[\"type\"]) => {\r\n  switch (type) {\r\n    case \"REPLY\":\r\n      return \"ответил(а) на ваш комментарий\";\r\n    case \"POST_VOTE\":\r\n      return \"оценил(а) ваш пост\";\r\n    case \"COMMENT_VOTE\":\r\n      return \"оценил(а) ваш комментарий\";\r\n    default:\r\n      return \"новое уведомление\";\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAIO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB;AAEO,MAAM,eAAe,CAAC;IAC3B,MAAM,MAAM,oEAAoE,KAAK,CAAC;IACtF,MAAM,MAAM,2EAA2E,KAAK,CAAC;IAE7F,IAAI,MAAM,KAAK,WAAW;IAE1B,iBAAiB;IACjB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,MAAM,EAAE,IAAK;QACnC,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE;IACrC;IAEA,OAAO,IACJ,OAAO,CAAC,cAAc,KACtB,OAAO,CAAC,OAAO,KACf,OAAO,CAAC,UAAU;AACvB;AAEO,SAAS,iBAAiB,YAAwB;IACvD,MAAM,MAAM,IAAI;IAChB,MAAM,QAAoB,EAAE;IAE5B,MAAM,SAAS;WAAI;KAAa,CAAC,IAAI,CAAC,CAAC,GAAG;QACxC,MAAM,QAAQ,EAAE,SAAS,EAAE,WAAW;QACtC,MAAM,QAAQ,EAAE,SAAS,EAAE,WAAW;QACtC,OAAO,QAAQ;IACjB;IAEA,OAAO,OAAO,CAAC,CAAC;QACd,IAAI,GAAG,CAAC,QAAQ,EAAE,EAAE;YAAE,GAAG,OAAO;YAAE,SAAS,EAAE;QAAC;IAChD;IAEA,OAAO,OAAO,CAAC,CAAC;QACd,MAAM,OAAO,IAAI,GAAG,CAAC,QAAQ,EAAE;QAC/B,IAAI,QAAQ,QAAQ,EAAE;YACpB,MAAM,SAAS,IAAI,GAAG,CAAC,QAAQ,QAAQ;YACvC,IAAI,QAAQ;gBACV,OAAO,OAAO,EAAE,KAAK;YACvB;QACF,OAAO;YACL,MAAM,IAAI,CAAC;QACb;IACF;IAEA,OAAO,MAAM,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;AAC/C;AAEO,SAAS,iBAAiB,QAAoB,EAAE,QAAgB;IACrE,KAAK,MAAM,WAAW,SAAU;QAC9B,IAAI,QAAQ,EAAE,KAAK,UAAU;YAC3B,OAAO,QAAQ,KAAK;QACtB;QACA,IAAI,QAAQ,OAAO,IAAI,QAAQ,OAAO,CAAC,MAAM,GAAG,GAAG;YACjD,MAAM,aAAa,iBAAiB,QAAQ,OAAO,EAAE;YACrD,IAAI,eAAe,CAAC,GAAG;gBACrB,OAAO;YACT;QACF;IACF;IACA,OAAO,CAAC;AACV;AAEO,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF"}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/button.tsx"],"sourcesContent":["import { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { Slot } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\r\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        xs: \"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9\",\r\n        \"icon-xs\": \"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3\",\r\n        \"icon-sm\": \"size-8\",\r\n        \"icon-lg\": \"size-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nfunction Button({\r\n  className,\r\n  variant = \"default\",\r\n  size = \"default\",\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean;\r\n  }) {\r\n  const Comp = asChild ? Slot.Root : \"button\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      data-variant={variant}\r\n      data-size={size}\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAGA;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,2MAAI,CAAC,IAAI,GAAG;IAEnC,qBACE,6LAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf;KArBS"}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\r\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Input };\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS"}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/separator.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Separator as SeparatorPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Separator({\r\n  className,\r\n  orientation = \"horizontal\",\r\n  decorative = true,\r\n  ...props\r\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\r\n  return (\r\n    <SeparatorPrimitive.Root\r\n      data-slot=\"separator\"\r\n      decorative={decorative}\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Separator };\r\n"],"names":[],"mappings":";;;;;AAEA;AAGA;AALA;;;;AAOA,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,YAAY,EAC1B,aAAa,IAAI,EACjB,GAAG,OACkD;IACrD,qBACE,6LAAC,0NAAkB,CAAC,IAAI;QACtB,aAAU;QACV,YAAY;QACZ,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,kKACA;QAED,GAAG,KAAK;;;;;;AAGf;KAlBS"}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/sheet.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { XIcon } from \"lucide-react\";\r\nimport { Dialog as SheetPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Sheet({ ...props }: React.ComponentProps<typeof SheetPrimitive.Root>) {\r\n  return <SheetPrimitive.Root data-slot=\"sheet\" {...props} />;\r\n}\r\n\r\nfunction SheetTrigger({ ...props }: React.ComponentProps<typeof SheetPrimitive.Trigger>) {\r\n  return <SheetPrimitive.Trigger data-slot=\"sheet-trigger\" {...props} />;\r\n}\r\n\r\nfunction SheetClose({ ...props }: React.ComponentProps<typeof SheetPrimitive.Close>) {\r\n  return <SheetPrimitive.Close data-slot=\"sheet-close\" {...props} />;\r\n}\r\n\r\nfunction SheetPortal({ ...props }: React.ComponentProps<typeof SheetPrimitive.Portal>) {\r\n  return <SheetPrimitive.Portal data-slot=\"sheet-portal\" {...props} />;\r\n}\r\n\r\nfunction SheetOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Overlay>) {\r\n  return (\r\n    <SheetPrimitive.Overlay\r\n      data-slot=\"sheet-overlay\"\r\n      className={cn(\r\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetContent({\r\n  className,\r\n  children,\r\n  side = \"right\",\r\n  showCloseButton = true,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Content> & {\r\n  side?: \"top\" | \"right\" | \"bottom\" | \"left\";\r\n  showCloseButton?: boolean;\r\n}) {\r\n  return (\r\n    <SheetPortal>\r\n      <SheetOverlay />\r\n      <SheetPrimitive.Content\r\n        data-slot=\"sheet-content\"\r\n        className={cn(\r\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\r\n          side === \"right\" &&\r\n            \"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm\",\r\n          side === \"left\" &&\r\n            \"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm\",\r\n          side === \"top\" &&\r\n            \"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b\",\r\n          side === \"bottom\" &&\r\n            \"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {showCloseButton && (\r\n          <SheetPrimitive.Close className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none\">\r\n            <XIcon className=\"size-4\" />\r\n            <span className=\"sr-only\">Close</span>\r\n          </SheetPrimitive.Close>\r\n        )}\r\n      </SheetPrimitive.Content>\r\n    </SheetPortal>\r\n  );\r\n}\r\n\r\nfunction SheetHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sheet-header\"\r\n      className={cn(\"flex flex-col gap-1.5 p-4\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sheet-footer\"\r\n      className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetTitle({ className, ...props }: React.ComponentProps<typeof SheetPrimitive.Title>) {\r\n  return (\r\n    <SheetPrimitive.Title\r\n      data-slot=\"sheet-title\"\r\n      className={cn(\"text-foreground font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SheetDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof SheetPrimitive.Description>) {\r\n  return (\r\n    <SheetPrimitive.Description\r\n      data-slot=\"sheet-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Sheet,\r\n  SheetTrigger,\r\n  SheetClose,\r\n  SheetContent,\r\n  SheetHeader,\r\n  SheetFooter,\r\n  SheetTitle,\r\n  SheetDescription,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAEA;AACA;AAGA;AANA;;;;;AAQA,SAAS,MAAM,EAAE,GAAG,OAAyD;IAC3E,qBAAO,6LAAC,iNAAc,CAAC,IAAI;QAAC,aAAU;QAAS,GAAG,KAAK;;;;;;AACzD;KAFS;AAIT,SAAS,aAAa,EAAE,GAAG,OAA4D;IACrF,qBAAO,6LAAC,iNAAc,CAAC,OAAO;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAFS;AAIT,SAAS,WAAW,EAAE,GAAG,OAA0D;IACjF,qBAAO,6LAAC,iNAAc,CAAC,KAAK;QAAC,aAAU;QAAe,GAAG,KAAK;;;;;;AAChE;MAFS;AAIT,SAAS,YAAY,EAAE,GAAG,OAA2D;IACnF,qBAAO,6LAAC,iNAAc,CAAC,MAAM;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAFS;AAIT,SAAS,aAAa,EACpB,SAAS,EACT,GAAG,OACiD;IACpD,qBACE,6LAAC,iNAAc,CAAC,OAAO;QACrB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,aAAa,EACpB,SAAS,EACT,QAAQ,EACR,OAAO,OAAO,EACd,kBAAkB,IAAI,EACtB,GAAG,OAIJ;IACC,qBACE,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,iNAAc,CAAC,OAAO;gBACrB,aAAU;gBACV,WAAW,IAAA,4HAAE,EACX,8MACA,SAAS,WACP,oIACF,SAAS,UACP,iIACF,SAAS,SACP,4GACF,SAAS,YACP,qHACF;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,iNAAc,CAAC,KAAK;wBAAC,WAAU;;0CAC9B,6LAAC,4MAAK;gCAAC,WAAU;;;;;;0CACjB,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAvCS;AAyCT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,6BAA6B;QAC1C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,mCAAmC;QAChD,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAA0D;IAC5F,qBACE,6LAAC,iNAAc,CAAC,KAAK;QACnB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,6LAAC,iNAAc,CAAC,WAAW;QACzB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 432, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/skeleton.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\n\r\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"skeleton\"\r\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Skeleton };\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAoC;IACpE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;KARS"}},
    {"offset": {"line": 462, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/tooltip.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Tooltip as TooltipPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction TooltipProvider({\r\n  delayDuration = 0,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Provider>) {\r\n  return (\r\n    <TooltipPrimitive.Provider\r\n      data-slot=\"tooltip-provider\"\r\n      delayDuration={delayDuration}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction Tooltip({ ...props }: React.ComponentProps<typeof TooltipPrimitive.Root>) {\r\n  return <TooltipPrimitive.Root data-slot=\"tooltip\" {...props} />;\r\n}\r\n\r\nfunction TooltipTrigger({ ...props }: React.ComponentProps<typeof TooltipPrimitive.Trigger>) {\r\n  return <TooltipPrimitive.Trigger data-slot=\"tooltip-trigger\" {...props} />;\r\n}\r\n\r\nfunction TooltipContent({\r\n  className,\r\n  sideOffset = 0,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof TooltipPrimitive.Content>) {\r\n  return (\r\n    <TooltipPrimitive.Portal>\r\n      <TooltipPrimitive.Content\r\n        data-slot=\"tooltip-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-foreground text-background animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        <TooltipPrimitive.Arrow className=\"bg-foreground fill-foreground z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]\" />\r\n      </TooltipPrimitive.Content>\r\n    </TooltipPrimitive.Portal>\r\n  );\r\n}\r\n\r\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider };\r\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AAGA;AALA;;;;AAOA,SAAS,gBAAgB,EACvB,gBAAgB,CAAC,EACjB,GAAG,OACoD;IACvD,qBACE,6LAAC,oNAAgB,CAAC,QAAQ;QACxB,aAAU;QACV,eAAe;QACd,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,QAAQ,EAAE,GAAG,OAA2D;IAC/E,qBAAO,6LAAC,oNAAgB,CAAC,IAAI;QAAC,aAAU;QAAW,GAAG,KAAK;;;;;;AAC7D;MAFS;AAIT,SAAS,eAAe,EAAE,GAAG,OAA8D;IACzF,qBAAO,6LAAC,oNAAgB,CAAC,OAAO;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAFS;AAIT,SAAS,eAAe,EACtB,SAAS,EACT,aAAa,CAAC,EACd,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6LAAC,oNAAgB,CAAC,MAAM;kBACtB,cAAA,6LAAC,oNAAgB,CAAC,OAAO;YACvB,aAAU;YACV,YAAY;YACZ,WAAW,IAAA,4HAAE,EACX,qaACA;YAED,GAAG,KAAK;;gBAER;8BACD,6LAAC,oNAAgB,CAAC,KAAK;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1C;MAtBS"}},
    {"offset": {"line": 555, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/hooks/use-mobile.ts"],"sourcesContent":["import * as React from \"react\";\r\n\r\nconst MOBILE_BREAKPOINT = 768;\r\n\r\nexport function useIsMobile() {\r\n  const [isMobile, setIsMobile] = React.useState<boolean | undefined>(undefined);\r\n\r\n  React.useEffect(() => {\r\n    const mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\r\n    const onChange = () => {\r\n      setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\r\n    };\r\n    mql.addEventListener(\"change\", onChange);\r\n    setIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\r\n    return () => mql.removeEventListener(\"change\", onChange);\r\n  }, []);\r\n\r\n  return !!isMobile;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,MAAM,oBAAoB;AAEnB,SAAS;;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,yKAAc,CAAsB;IAEpE,0KAAe;iCAAC;YACd,MAAM,MAAM,OAAO,UAAU,CAAC,CAAC,YAAY,EAAE,oBAAoB,EAAE,GAAG,CAAC;YACvE,MAAM;kDAAW;oBACf,YAAY,OAAO,UAAU,GAAG;gBAClC;;YACA,IAAI,gBAAgB,CAAC,UAAU;YAC/B,YAAY,OAAO,UAAU,GAAG;YAChC;yCAAO,IAAM,IAAI,mBAAmB,CAAC,UAAU;;QACjD;gCAAG,EAAE;IAEL,OAAO,CAAC,CAAC;AACX;GAdgB"}},
    {"offset": {"line": 591, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { PanelLeftIcon } from \"lucide-react\";\r\nimport { Slot } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport {\r\n  Sheet,\r\n  SheetContent,\r\n  SheetDescription,\r\n  SheetHeader,\r\n  SheetTitle,\r\n} from \"@/components/ui/sheet\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\r\nimport { useIsMobile } from \"@/hooks/use-mobile\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst SIDEBAR_COOKIE_NAME = \"sidebar_state\";\r\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\r\nconst SIDEBAR_WIDTH = \"16rem\";\r\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\r\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\r\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\r\n\r\ninterface SidebarContextProps {\r\n  state: \"expanded\" | \"collapsed\";\r\n  open: boolean;\r\n  setOpen: (open: boolean) => void;\r\n  openMobile: boolean;\r\n  setOpenMobile: (open: boolean) => void;\r\n  isMobile: boolean;\r\n  toggleSidebar: () => void;\r\n}\r\n\r\nconst SidebarContext = React.createContext<SidebarContextProps | null>(null);\r\n\r\nfunction useSidebar() {\r\n  const context = React.useContext(SidebarContext);\r\n  if (!context) {\r\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\r\n  }\r\n\r\n  return context;\r\n}\r\n\r\nfunction SidebarProvider({\r\n  defaultOpen = true,\r\n  open: openProp,\r\n  onOpenChange: setOpenProp,\r\n  className,\r\n  style,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & {\r\n  defaultOpen?: boolean;\r\n  open?: boolean;\r\n  onOpenChange?: (open: boolean) => void;\r\n}) {\r\n  const isMobile = useIsMobile();\r\n  const [openMobile, setOpenMobile] = React.useState(false);\r\n\r\n  // This is the internal state of the sidebar.\r\n  // We use openProp and setOpenProp for control from outside the component.\r\n  const [_open, _setOpen] = React.useState(defaultOpen);\r\n  const open = openProp ?? _open;\r\n  const setOpen = React.useCallback(\r\n    (value: boolean | ((value: boolean) => boolean)) => {\r\n      const openState = typeof value === \"function\" ? value(open) : value;\r\n      if (setOpenProp) {\r\n        setOpenProp(openState);\r\n      } else {\r\n        _setOpen(openState);\r\n      }\r\n\r\n      // This sets the cookie to keep the sidebar state.\r\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\r\n    },\r\n    [setOpenProp, open]\r\n  );\r\n\r\n  // Helper to toggle the sidebar.\r\n  const toggleSidebar = React.useCallback(() => {\r\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\r\n  }, [isMobile, setOpen, setOpenMobile]);\r\n\r\n  // Adds a keyboard shortcut to toggle the sidebar.\r\n  React.useEffect(() => {\r\n    const handleKeyDown = (event: KeyboardEvent) => {\r\n      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {\r\n        event.preventDefault();\r\n        toggleSidebar();\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [toggleSidebar]);\r\n\r\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\r\n  // This makes it easier to style the sidebar with Tailwind classes.\r\n  const state = open ? \"expanded\" : \"collapsed\";\r\n\r\n  const contextValue = React.useMemo<SidebarContextProps>(\r\n    () => ({\r\n      state,\r\n      open,\r\n      setOpen,\r\n      isMobile,\r\n      openMobile,\r\n      setOpenMobile,\r\n      toggleSidebar,\r\n    }),\r\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar]\r\n  );\r\n\r\n  return (\r\n    <SidebarContext.Provider value={contextValue}>\r\n      <TooltipProvider delayDuration={0}>\r\n        <div\r\n          data-slot=\"sidebar-wrapper\"\r\n          style={\r\n            {\r\n              \"--sidebar-width\": SIDEBAR_WIDTH,\r\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\r\n              ...style,\r\n            } as React.CSSProperties\r\n          }\r\n          className={cn(\r\n            \"group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full\",\r\n            className\r\n          )}\r\n          {...props}\r\n        >\r\n          {children}\r\n        </div>\r\n      </TooltipProvider>\r\n    </SidebarContext.Provider>\r\n  );\r\n}\r\n\r\nfunction Sidebar({\r\n  side = \"left\",\r\n  variant = \"sidebar\",\r\n  collapsible = \"offcanvas\",\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & {\r\n  side?: \"left\" | \"right\";\r\n  variant?: \"sidebar\" | \"floating\" | \"inset\";\r\n  collapsible?: \"offcanvas\" | \"icon\" | \"none\";\r\n}) {\r\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\r\n\r\n  if (collapsible === \"none\") {\r\n    return (\r\n      <div\r\n        data-slot=\"sidebar\"\r\n        className={cn(\r\n          \"bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\r\n        <SheetContent\r\n          data-sidebar=\"sidebar\"\r\n          data-slot=\"sidebar\"\r\n          data-mobile=\"true\"\r\n          className=\"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden\"\r\n          style={\r\n            {\r\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\r\n            } as React.CSSProperties\r\n          }\r\n          side={side}\r\n        >\r\n          <SheetHeader className=\"sr-only\">\r\n            <SheetTitle>Sidebar</SheetTitle>\r\n            <SheetDescription>Displays the mobile sidebar.</SheetDescription>\r\n          </SheetHeader>\r\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\r\n        </SheetContent>\r\n      </Sheet>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"group peer text-sidebar-foreground hidden md:block\"\r\n      data-state={state}\r\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\r\n      data-variant={variant}\r\n      data-side={side}\r\n      data-slot=\"sidebar\"\r\n    >\r\n      {/* This is what handles the sidebar gap on desktop */}\r\n      <div\r\n        data-slot=\"sidebar-gap\"\r\n        className={cn(\r\n          \"relative w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear\",\r\n          \"group-data-[collapsible=offcanvas]:w-0\",\r\n          \"group-data-[side=right]:rotate-180\",\r\n          variant === \"floating\" || variant === \"inset\"\r\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]\"\r\n            : \"group-data-[collapsible=icon]:w-(--sidebar-width-icon)\"\r\n        )}\r\n      />\r\n      <div\r\n        data-slot=\"sidebar-container\"\r\n        className={cn(\r\n          \"fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex\",\r\n          side === \"left\"\r\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\r\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\r\n          // Adjust the padding for floating and inset variants.\r\n          variant === \"floating\" || variant === \"inset\"\r\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]\"\r\n            : \"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        <div\r\n          data-sidebar=\"sidebar\"\r\n          data-slot=\"sidebar-inner\"\r\n          className=\"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm\"\r\n        >\r\n          {children}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SidebarTrigger({ className, onClick, ...props }: React.ComponentProps<typeof Button>) {\r\n  const { toggleSidebar } = useSidebar();\r\n\r\n  return (\r\n    <Button\r\n      data-sidebar=\"trigger\"\r\n      data-slot=\"sidebar-trigger\"\r\n      variant=\"ghost\"\r\n      size=\"icon\"\r\n      className={cn(\"size-7\", className)}\r\n      onClick={(event) => {\r\n        onClick?.(event);\r\n        toggleSidebar();\r\n      }}\r\n      {...props}\r\n    >\r\n      <PanelLeftIcon />\r\n      <span className=\"sr-only\">Toggle Sidebar</span>\r\n    </Button>\r\n  );\r\n}\r\n\r\nfunction SidebarRail({ className, ...props }: React.ComponentProps<\"button\">) {\r\n  const { toggleSidebar } = useSidebar();\r\n\r\n  return (\r\n    <button\r\n      data-sidebar=\"rail\"\r\n      data-slot=\"sidebar-rail\"\r\n      aria-label=\"Toggle Sidebar\"\r\n      tabIndex={-1}\r\n      onClick={toggleSidebar}\r\n      title=\"Toggle Sidebar\"\r\n      className={cn(\r\n        \"hover:after:bg-sidebar-border absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear group-data-[side=left]:-right-4 group-data-[side=right]:left-0 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] sm:flex\",\r\n        \"in-data-[side=left]:cursor-w-resize in-data-[side=right]:cursor-e-resize\",\r\n        \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\r\n        \"hover:group-data-[collapsible=offcanvas]:bg-sidebar group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full\",\r\n        \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\r\n        \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarInset({ className, ...props }: React.ComponentProps<\"main\">) {\r\n  return (\r\n    <main\r\n      data-slot=\"sidebar-inset\"\r\n      className={cn(\r\n        \"bg-background relative flex w-full flex-1 flex-col\",\r\n        \"md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarInput({ className, ...props }: React.ComponentProps<typeof Input>) {\r\n  return (\r\n    <Input\r\n      data-slot=\"sidebar-input\"\r\n      data-sidebar=\"input\"\r\n      className={cn(\"bg-background h-8 w-full shadow-none\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-header\"\r\n      data-sidebar=\"header\"\r\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-footer\"\r\n      data-sidebar=\"footer\"\r\n      className={cn(\"flex flex-col gap-2 p-2\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarSeparator({ className, ...props }: React.ComponentProps<typeof Separator>) {\r\n  return (\r\n    <Separator\r\n      data-slot=\"sidebar-separator\"\r\n      data-sidebar=\"separator\"\r\n      className={cn(\"bg-sidebar-border mx-2 w-auto\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-content\"\r\n      data-sidebar=\"content\"\r\n      className={cn(\r\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-group\"\r\n      data-sidebar=\"group\"\r\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarGroupLabel({\r\n  className,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot.Root : \"div\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-group-label\"\r\n      data-sidebar=\"group-label\"\r\n      className={cn(\r\n        \"text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarGroupAction({\r\n  className,\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot.Root : \"button\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-group-action\"\r\n      data-sidebar=\"group-action\"\r\n      className={cn(\r\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground absolute top-3.5 right-3 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        // Increases the hit area of the button on mobile.\r\n        \"after:absolute after:-inset-2 md:after:hidden\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarGroupContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-group-content\"\r\n      data-sidebar=\"group-content\"\r\n      className={cn(\"w-full text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarMenu({ className, ...props }: React.ComponentProps<\"ul\">) {\r\n  return (\r\n    <ul\r\n      data-slot=\"sidebar-menu\"\r\n      data-sidebar=\"menu\"\r\n      className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarMenuItem({ className, ...props }: React.ComponentProps<\"li\">) {\r\n  return (\r\n    <li\r\n      data-slot=\"sidebar-menu-item\"\r\n      data-sidebar=\"menu-item\"\r\n      className={cn(\"group/menu-item relative\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nconst sidebarMenuButtonVariants = cva(\r\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\r\n        outline:\r\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\r\n      },\r\n      size: {\r\n        default: \"h-8 text-sm\",\r\n        sm: \"h-7 text-xs\",\r\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:p-0!\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nfunction SidebarMenuButton({\r\n  asChild = false,\r\n  isActive = false,\r\n  variant = \"default\",\r\n  size = \"default\",\r\n  tooltip,\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> & {\r\n  asChild?: boolean;\r\n  isActive?: boolean;\r\n  tooltip?: string | React.ComponentProps<typeof TooltipContent>;\r\n} & VariantProps<typeof sidebarMenuButtonVariants>) {\r\n  const Comp = asChild ? Slot.Root : \"button\";\r\n  const { isMobile, state } = useSidebar();\r\n\r\n  const button = (\r\n    <Comp\r\n      data-slot=\"sidebar-menu-button\"\r\n      data-sidebar=\"menu-button\"\r\n      data-size={size}\r\n      data-active={isActive}\r\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\r\n      {...props}\r\n    />\r\n  );\r\n\r\n  if (!tooltip) {\r\n    return button;\r\n  }\r\n\r\n  if (typeof tooltip === \"string\") {\r\n    tooltip = {\r\n      children: tooltip,\r\n    };\r\n  }\r\n\r\n  return (\r\n    <Tooltip>\r\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\r\n      <TooltipContent\r\n        side=\"right\"\r\n        align=\"center\"\r\n        hidden={state !== \"collapsed\" || isMobile}\r\n        {...tooltip}\r\n      />\r\n    </Tooltip>\r\n  );\r\n}\r\n\r\nfunction SidebarMenuAction({\r\n  className,\r\n  asChild = false,\r\n  showOnHover = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> & {\r\n  asChild?: boolean;\r\n  showOnHover?: boolean;\r\n}) {\r\n  const Comp = asChild ? Slot.Root : \"button\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-menu-action\"\r\n      data-sidebar=\"menu-action\"\r\n      className={cn(\r\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground peer-hover/menu-button:text-sidebar-accent-foreground absolute top-1.5 right-1 flex aspect-square w-5 items-center justify-center rounded-md p-0 outline-hidden transition-transform focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        // Increases the hit area of the button on mobile.\r\n        \"after:absolute after:-inset-2 md:after:hidden\",\r\n        \"peer-data-[size=sm]/menu-button:top-1\",\r\n        \"peer-data-[size=default]/menu-button:top-1.5\",\r\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        showOnHover &&\r\n          \"peer-data-[active=true]/menu-button:text-sidebar-accent-foreground group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 md:opacity-0\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarMenuBadge({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-menu-badge\"\r\n      data-sidebar=\"menu-badge\"\r\n      className={cn(\r\n        \"text-sidebar-foreground pointer-events-none absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums select-none\",\r\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\r\n        \"peer-data-[size=sm]/menu-button:top-1\",\r\n        \"peer-data-[size=default]/menu-button:top-1.5\",\r\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarMenuSkeleton({\r\n  className,\r\n  showIcon = false,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & {\r\n  showIcon?: boolean;\r\n}) {\r\n  // Random width between 50 to 90%.\r\n  const width = React.useMemo(() => {\r\n    return `${Math.floor(Math.random() * 40) + 50}%`;\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      data-slot=\"sidebar-menu-skeleton\"\r\n      data-sidebar=\"menu-skeleton\"\r\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\r\n      {...props}\r\n    >\r\n      {showIcon && <Skeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" />}\r\n      <Skeleton\r\n        className=\"h-4 max-w-(--skeleton-width) flex-1\"\r\n        data-sidebar=\"menu-skeleton-text\"\r\n        style={\r\n          {\r\n            \"--skeleton-width\": width,\r\n          } as React.CSSProperties\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SidebarMenuSub({ className, ...props }: React.ComponentProps<\"ul\">) {\r\n  return (\r\n    <ul\r\n      data-slot=\"sidebar-menu-sub\"\r\n      data-sidebar=\"menu-sub\"\r\n      className={cn(\r\n        \"border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarMenuSubItem({ className, ...props }: React.ComponentProps<\"li\">) {\r\n  return (\r\n    <li\r\n      data-slot=\"sidebar-menu-sub-item\"\r\n      data-sidebar=\"menu-sub-item\"\r\n      className={cn(\"group/menu-sub-item relative\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction SidebarMenuSubButton({\r\n  asChild = false,\r\n  size = \"md\",\r\n  isActive = false,\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<\"a\"> & {\r\n  asChild?: boolean;\r\n  size?: \"sm\" | \"md\";\r\n  isActive?: boolean;\r\n}) {\r\n  const Comp = asChild ? Slot.Root : \"a\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"sidebar-menu-sub-button\"\r\n      data-sidebar=\"menu-sub-button\"\r\n      data-size={size}\r\n      data-active={isActive}\r\n      className={cn(\r\n        \"text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline-hidden focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\r\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\r\n        size === \"sm\" && \"text-xs\",\r\n        size === \"md\" && \"text-sm\",\r\n        \"group-data-[collapsible=icon]:hidden\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Sidebar,\r\n  SidebarContent,\r\n  SidebarFooter,\r\n  SidebarGroup,\r\n  SidebarGroupAction,\r\n  SidebarGroupContent,\r\n  SidebarGroupLabel,\r\n  SidebarHeader,\r\n  SidebarInput,\r\n  SidebarInset,\r\n  SidebarMenu,\r\n  SidebarMenuAction,\r\n  SidebarMenuBadge,\r\n  SidebarMenuButton,\r\n  SidebarMenuItem,\r\n  SidebarMenuSkeleton,\r\n  SidebarMenuSub,\r\n  SidebarMenuSubButton,\r\n  SidebarMenuSubItem,\r\n  SidebarProvider,\r\n  SidebarRail,\r\n  SidebarSeparator,\r\n  SidebarTrigger,\r\n  useSidebar,\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1365, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/lib/firebase.ts"],"sourcesContent":["// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\n"],"names":[],"mappings":";;;;;;AASU;AATV,uDAAuD;AACvD;AAAA;AACA;AAAA;AACA;AAAA;;;;AACA,4DAA4D;AAC5D,iEAAiE;AAEjE,wCAAwC;AACxC,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,sBAAsB;AACtB,MAAM,MAAM,IAAA,oLAAa,EAAC;AACnB,MAAM,OAAO,IAAA,wKAAO,EAAC;AACrB,MAAM,KAAK,IAAA,kLAAY,EAAC"}},
    {"offset": {"line": 1404, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/context/AuthContext.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { onAuthStateChanged, User } from \"firebase/auth\";\r\nimport { doc, getDoc, setDoc, serverTimestamp } from \"firebase/firestore\";\r\nimport { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nimport { auth, db } from \"@/lib/firebase\";\r\n\r\nconst AuthContext = createContext<{ user: User | null; loading: boolean }>({\r\n  user: null,\r\n  loading: true,\r\n});\r\n\r\nexport const AuthProvider = ({ children }: { children: React.ReactNode }) => {\r\n  const [user, setUser] = useState<User | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onAuthStateChanged(auth, async (currentUser) => {\r\n      if (currentUser) {\r\n        const userRef = doc(db, \"users\", currentUser.uid);\r\n        const userSnap = await getDoc(userRef);\r\n\r\n        if (!userSnap.exists()) {\r\n          await setDoc(userRef, {\r\n            uid: currentUser.uid,\r\n            email: currentUser.email,\r\n            displayName: currentUser.displayName || currentUser.email?.split(\"@\")[0],\r\n            photoURL: currentUser.photoURL || \"\",\r\n            subscribedCommunities: [],\r\n            createdAt: serverTimestamp(),\r\n          });\r\n        }\r\n\r\n        setUser(currentUser);\r\n\r\n        const token = await currentUser.getIdToken();\r\n        await fetch(\"/api/auth/login\", {\r\n          method: \"POST\",\r\n          body: JSON.stringify({ token }),\r\n        });\r\n      } else {\r\n        setUser(null);\r\n        await fetch(\"/api/auth/logout\", {\r\n          method: \"POST\",\r\n        });\r\n      }\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return <AuthContext.Provider value={{ user, loading }}>{children}</AuthContext.Provider>;\r\n};\r\n\r\nexport const useAuth = () => useContext(AuthContext);\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAAA;AACA;AAAA;AACA;AAEA;;;AANA;;;;;AAQA,MAAM,4BAAc,IAAA,8KAAa,EAA0C;IACzE,MAAM;IACN,SAAS;AACX;AAEO,MAAM,eAAe,CAAC,EAAE,QAAQ,EAAiC;;IACtE,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAc;IAC9C,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,IAAA,0KAAS;kCAAC;YACR,MAAM,cAAc,IAAA,mLAAkB,EAAC,iIAAI;sDAAE,OAAO;oBAClD,IAAI,aAAa;wBACf,MAAM,UAAU,IAAA,yKAAG,EAAC,+HAAE,EAAE,SAAS,YAAY,GAAG;wBAChD,MAAM,WAAW,MAAM,IAAA,4KAAM,EAAC;wBAE9B,IAAI,CAAC,SAAS,MAAM,IAAI;4BACtB,MAAM,IAAA,4KAAM,EAAC,SAAS;gCACpB,KAAK,YAAY,GAAG;gCACpB,OAAO,YAAY,KAAK;gCACxB,aAAa,YAAY,WAAW,IAAI,YAAY,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE;gCACxE,UAAU,YAAY,QAAQ,IAAI;gCAClC,uBAAuB,EAAE;gCACzB,WAAW,IAAA,qLAAe;4BAC5B;wBACF;wBAEA,QAAQ;wBAER,MAAM,QAAQ,MAAM,YAAY,UAAU;wBAC1C,MAAM,MAAM,mBAAmB;4BAC7B,QAAQ;4BACR,MAAM,KAAK,SAAS,CAAC;gCAAE;4BAAM;wBAC/B;oBACF,OAAO;wBACL,QAAQ;wBACR,MAAM,MAAM,oBAAoB;4BAC9B,QAAQ;wBACV;oBACF;oBACA,WAAW;gBACb;;YAEA;0CAAO,IAAM;;QACf;iCAAG,EAAE;IAEL,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;QAAQ;kBAAI;;;;;;AAC1D;GAzCa;KAAA;AA2CN,MAAM,UAAU;;IAAM,OAAA,IAAA,2KAAU,EAAC;AAAW;IAAtC"}},
    {"offset": {"line": 1499, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/avatar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Avatar as AvatarPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Avatar({\r\n  className,\r\n  size = \"default\",\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Root> & {\r\n  size?: \"default\" | \"sm\" | \"lg\";\r\n}) {\r\n  return (\r\n    <AvatarPrimitive.Root\r\n      data-slot=\"avatar\"\r\n      data-size={size}\r\n      className={cn(\r\n        \"group/avatar relative flex size-8 shrink-0 overflow-hidden rounded-full select-none data-[size=lg]:size-10 data-[size=sm]:size-6\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarImage({ className, ...props }: React.ComponentProps<typeof AvatarPrimitive.Image>) {\r\n  return (\r\n    <AvatarPrimitive.Image\r\n      data-slot=\"avatar-image\"\r\n      className={cn(\"aspect-square size-full\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarFallback({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AvatarPrimitive.Fallback>) {\r\n  return (\r\n    <AvatarPrimitive.Fallback\r\n      data-slot=\"avatar-fallback\"\r\n      className={cn(\r\n        \"bg-muted text-muted-foreground flex size-full items-center justify-center rounded-full text-sm group-data-[size=sm]/avatar:text-xs\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarBadge({ className, ...props }: React.ComponentProps<\"span\">) {\r\n  return (\r\n    <span\r\n      data-slot=\"avatar-badge\"\r\n      className={cn(\r\n        \"bg-primary text-primary-foreground ring-background absolute right-0 bottom-0 z-10 inline-flex items-center justify-center rounded-full ring-2 select-none\",\r\n        \"group-data-[size=sm]/avatar:size-2 group-data-[size=sm]/avatar:[&>svg]:hidden\",\r\n        \"group-data-[size=default]/avatar:size-2.5 group-data-[size=default]/avatar:[&>svg]:size-2\",\r\n        \"group-data-[size=lg]/avatar:size-3 group-data-[size=lg]/avatar:[&>svg]:size-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarGroup({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"avatar-group\"\r\n      className={cn(\r\n        \"*:data-[slot=avatar]:ring-background group/avatar-group flex -space-x-2 *:data-[slot=avatar]:ring-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AvatarGroupCount({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"avatar-group-count\"\r\n      className={cn(\r\n        \"bg-muted text-muted-foreground ring-background relative flex size-8 shrink-0 items-center justify-center rounded-full text-sm ring-2 group-has-data-[size=lg]/avatar-group:size-10 group-has-data-[size=sm]/avatar-group:size-6 [&>svg]:size-4 group-has-data-[size=lg]/avatar-group:[&>svg]:size-5 group-has-data-[size=sm]/avatar-group:[&>svg]:size-3\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback, AvatarBadge, AvatarGroup, AvatarGroupCount };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;AAGA;AALA;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,OAAO,SAAS,EAChB,GAAG,OAGJ;IACC,qBACE,6LAAC,iNAAe,CAAC,IAAI;QACnB,aAAU;QACV,aAAW;QACX,WAAW,IAAA,4HAAE,EACX,oIACA;QAED,GAAG,KAAK;;;;;;AAGf;KAlBS;AAoBT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAA2D;IAC9F,qBACE,6LAAC,iNAAe,CAAC,KAAK;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACmD;IACtD,qBACE,6LAAC,iNAAe,CAAC,QAAQ;QACvB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,sIACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAqC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,6JACA,iFACA,6FACA,iFACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC5E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,4VACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 1608, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { XIcon } from \"lucide-react\";\r\nimport { Dialog as DialogPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Dialog({ ...props }: React.ComponentProps<typeof DialogPrimitive.Root>) {\r\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />;\r\n}\r\n\r\nfunction DialogTrigger({ ...props }: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\r\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />;\r\n}\r\n\r\nfunction DialogPortal({ ...props }: React.ComponentProps<typeof DialogPrimitive.Portal>) {\r\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />;\r\n}\r\n\r\nfunction DialogClose({ ...props }: React.ComponentProps<typeof DialogPrimitive.Close>) {\r\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />;\r\n}\r\n\r\nfunction DialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\r\n  return (\r\n    <DialogPrimitive.Overlay\r\n      data-slot=\"dialog-overlay\"\r\n      className={cn(\r\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogContent({\r\n  className,\r\n  children,\r\n  showCloseButton = true,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\r\n  showCloseButton?: boolean;\r\n}) {\r\n  return (\r\n    <DialogPortal data-slot=\"dialog-portal\">\r\n      <DialogOverlay />\r\n      <DialogPrimitive.Content\r\n        data-slot=\"dialog-content\"\r\n        className={cn(\r\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg\",\r\n          className\r\n        )}\r\n        {...props}\r\n      >\r\n        {children}\r\n        {showCloseButton && (\r\n          <DialogPrimitive.Close\r\n            data-slot=\"dialog-close\"\r\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\r\n          >\r\n            <XIcon />\r\n            <span className=\"sr-only\">Close</span>\r\n          </DialogPrimitive.Close>\r\n        )}\r\n      </DialogPrimitive.Content>\r\n    </DialogPortal>\r\n  );\r\n}\r\n\r\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-header\"\r\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogFooter({\r\n  className,\r\n  showCloseButton = false,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<\"div\"> & {\r\n  showCloseButton?: boolean;\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"dialog-footer\"\r\n      className={cn(\"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\", className)}\r\n      {...props}\r\n    >\r\n      {children}\r\n      {showCloseButton && (\r\n        <DialogPrimitive.Close asChild>\r\n          <Button variant=\"outline\">Close</Button>\r\n        </DialogPrimitive.Close>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DialogTitle({ className, ...props }: React.ComponentProps<typeof DialogPrimitive.Title>) {\r\n  return (\r\n    <DialogPrimitive.Title\r\n      data-slot=\"dialog-title\"\r\n      className={cn(\"text-lg leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\r\n  return (\r\n    <DialogPrimitive.Description\r\n      data-slot=\"dialog-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Dialog,\r\n  DialogClose,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogOverlay,\r\n  DialogPortal,\r\n  DialogTitle,\r\n  DialogTrigger,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AAGA;AACA;AAPA;;;;;;AASA,SAAS,OAAO,EAAE,GAAG,OAA0D;IAC7E,qBAAO,6LAAC,iNAAe,CAAC,IAAI;QAAC,aAAU;QAAU,GAAG,KAAK;;;;;;AAC3D;KAFS;AAIT,SAAS,cAAc,EAAE,GAAG,OAA6D;IACvF,qBAAO,6LAAC,iNAAe,CAAC,OAAO;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAFS;AAIT,SAAS,aAAa,EAAE,GAAG,OAA4D;IACrF,qBAAO,6LAAC,iNAAe,CAAC,MAAM;QAAC,aAAU;QAAiB,GAAG,KAAK;;;;;;AACpE;MAFS;AAIT,SAAS,YAAY,EAAE,GAAG,OAA2D;IACnF,qBAAO,6LAAC,iNAAe,CAAC,KAAK;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AAClE;MAFS;AAIT,SAAS,cAAc,EACrB,SAAS,EACT,GAAG,OACkD;IACrD,qBACE,6LAAC,iNAAe,CAAC,OAAO;QACtB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,cAAc,EACrB,SAAS,EACT,QAAQ,EACR,kBAAkB,IAAI,EACtB,GAAG,OAGJ;IACC,qBACE,6LAAC;QAAa,aAAU;;0BACtB,6LAAC;;;;;0BACD,6LAAC,iNAAe,CAAC,OAAO;gBACtB,aAAU;gBACV,WAAW,IAAA,4HAAE,EACX,4XACA;gBAED,GAAG,KAAK;;oBAER;oBACA,iCACC,6LAAC,iNAAe,CAAC,KAAK;wBACpB,aAAU;wBACV,WAAU;;0CAEV,6LAAC,4MAAK;;;;;0CACN,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMtC;MAhCS;AAkCT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAoC;IACxE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,gDAAgD;QAC7D,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EACpB,SAAS,EACT,kBAAkB,KAAK,EACvB,QAAQ,EACR,GAAG,OAGJ;IACC,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,0DAA0D;QACvE,GAAG,KAAK;;YAER;YACA,iCACC,6LAAC,iNAAe,CAAC,KAAK;gBAAC,OAAO;0BAC5B,cAAA,6LAAC,+IAAM;oBAAC,SAAQ;8BAAU;;;;;;;;;;;;;;;;;AAKpC;MAtBS;AAwBT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAA2D;IAC9F,qBACE,6LAAC,iNAAe,CAAC,KAAK;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,sCAAsC;QACnD,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,kBAAkB,EACzB,SAAS,EACT,GAAG,OACsD;IACzD,qBACE,6LAAC,iNAAe,CAAC,WAAW;QAC1B,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS"}},
    {"offset": {"line": 1834, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/label.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Label as LabelPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Label({ className, ...props }: React.ComponentProps<typeof LabelPrimitive.Root>) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Label };\r\n"],"names":[],"mappings":";;;;;AAEA;AAGA;AALA;;;;AAOA,SAAS,MAAM,EAAE,SAAS,EAAE,GAAG,OAAyD;IACtF,qBACE,6LAAC,8MAAc,CAAC,IAAI;QAClB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS"}},
    {"offset": {"line": 1867, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/textarea.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Textarea };\r\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAAyC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS"}},
    {"offset": {"line": 1897, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/lib/routes.ts"],"sourcesContent":["export const ROUTES = {\r\n  HOME: \"/\",\r\n  AUTH: \"/sign-in\",\r\n  SETTINGS: \"/settings\",\r\n  ALL_COMMUNITIES: \"/communities\",\r\n  CREATE_COMMUNITY: \"/communities/create\",\r\n\r\n  COMMUNITY: (name: string) => `/n/${name}`,\r\n  POST: (community: string, postSlug: string) => `/n/${community}/post/${postSlug}`,\r\n  CREATE_POST: (community: string) => `/n/${community}/submit`,\r\n};\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,SAAS;IACpB,MAAM;IACN,MAAM;IACN,UAAU;IACV,iBAAiB;IACjB,kBAAkB;IAElB,WAAW,CAAC,OAAiB,CAAC,GAAG,EAAE,MAAM;IACzC,MAAM,CAAC,WAAmB,WAAqB,CAAC,GAAG,EAAE,UAAU,MAAM,EAAE,UAAU;IACjF,aAAa,CAAC,YAAsB,CAAC,GAAG,EAAE,UAAU,OAAO,CAAC;AAC9D"}},
    {"offset": {"line": 1918, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/services/posts.service.ts"],"sourcesContent":["import {\r\n  collection,\r\n  deleteDoc,\r\n  doc,\r\n  getDoc,\r\n  getDocs,\r\n  increment,\r\n  limit,\r\n  orderBy,\r\n  query,\r\n  runTransaction,\r\n  serverTimestamp,\r\n  setDoc,\r\n  where,\r\n  writeBatch,\r\n  QuerySnapshot,\r\n  FirestoreDataConverter,\r\n  DocumentData,\r\n  QueryDocumentSnapshot,\r\n  startAfter,\r\n  updateDoc,\r\n} from \"firebase/firestore\";\r\n\r\nimport { db } from \"@/lib/firebase\";\r\nimport { IPost } from \"@/types/types\";\r\n\r\nconst postConverter: FirestoreDataConverter<IPost> = {\r\n  toFirestore: (post: IPost) => post,\r\n  fromFirestore: (snapshot, options) => {\r\n    const data = snapshot.data(options)!;\r\n    return { ...data, id: snapshot.id } as IPost;\r\n  },\r\n};\r\n\r\nconst postsRef = collection(db, \"posts\").withConverter(postConverter);\r\nconst FIRESTORE_IN_LIMIT = 30;\r\n\r\nconst mapSnapshot = (snapshot: QuerySnapshot<IPost>) => snapshot.docs.map((doc) => doc.data());\r\n\r\nexport const PostsService = {\r\n  async getAllPosts(limitCount = 10, lastDoc?: QueryDocumentSnapshot<DocumentData>) {\r\n    let q = query(postsRef, orderBy(\"createdAt\", \"desc\"), limit(limitCount));\r\n\r\n    if (lastDoc) {\r\n      q = query(q, startAfter(lastDoc));\r\n    }\r\n\r\n    const snapshot = await getDocs(q);\r\n    return {\r\n      posts: mapSnapshot(snapshot),\r\n      lastVisible: snapshot.docs[snapshot.docs.length - 1] || null,\r\n    };\r\n  },\r\n\r\n  async getFeedPosts(\r\n    subscribedCommunityIds: string[],\r\n    limitCount = 10,\r\n    lastDoc?: QueryDocumentSnapshot<DocumentData>\r\n  ) {\r\n    if (!subscribedCommunityIds?.length) return { posts: [], lastVisible: null };\r\n\r\n    const limitedIds = subscribedCommunityIds.slice(0, FIRESTORE_IN_LIMIT);\r\n\r\n    let q = query(\r\n      postsRef,\r\n      where(\"communityId\", \"in\", limitedIds),\r\n      orderBy(\"createdAt\", \"desc\"),\r\n      limit(limitCount)\r\n    );\r\n\r\n    if (lastDoc) {\r\n      q = query(q, startAfter(lastDoc));\r\n    }\r\n\r\n    const snapshot = await getDocs(q);\r\n    return {\r\n      posts: mapSnapshot(snapshot),\r\n      lastVisible: snapshot.docs[snapshot.docs.length - 1] || null,\r\n    };\r\n  },\r\n\r\n  async getUserPosts(\r\n    userId: string,\r\n    limitCount = 10,\r\n    lastDoc?: QueryDocumentSnapshot<DocumentData>\r\n  ) {\r\n    let q = query(\r\n      postsRef,\r\n      where(\"authorId\", \"==\", userId),\r\n      orderBy(\"createdAt\", \"desc\"),\r\n      limit(limitCount)\r\n    );\r\n\r\n    if (lastDoc) {\r\n      q = query(q, startAfter(lastDoc));\r\n    }\r\n\r\n    const snapshot = await getDocs(q);\r\n    return {\r\n      posts: mapSnapshot(snapshot),\r\n      lastVisible: snapshot.docs[snapshot.docs.length - 1] || null,\r\n    };\r\n  },\r\n\r\n  async getCommunityPosts(\r\n    communityId: string,\r\n    limitCount = 10,\r\n    lastDoc?: QueryDocumentSnapshot<DocumentData>\r\n  ) {\r\n    let q = query(\r\n      postsRef,\r\n      where(\"communityId\", \"==\", communityId),\r\n      orderBy(\"createdAt\", \"desc\"),\r\n      limit(limitCount)\r\n    );\r\n\r\n    if (lastDoc) {\r\n      q = query(q, startAfter(lastDoc));\r\n    }\r\n\r\n    const snapshot = await getDocs(q);\r\n\r\n    return {\r\n      posts: mapSnapshot(snapshot),\r\n      lastVisible: snapshot.docs[snapshot.docs.length - 1] || null,\r\n    };\r\n  },\r\n\r\n  async getPostById(postId: string) {\r\n    const postDoc = await getDoc(doc(postsRef, postId));\r\n    return postDoc.exists() ? postDoc.data() : null;\r\n  },\r\n\r\n  async getPostBySlug(slug: string): Promise<IPost | null> {\r\n    const q = query(postsRef, where(\"slug\", \"==\", slug), limit(1));\r\n    const snapshot = await getDocs(q);\r\n    return snapshot.empty ? null : snapshot.docs[0].data();\r\n  },\r\n\r\n  async createPost(data: Partial<IPost>) {\r\n    const postRef = doc(postsRef);\r\n\r\n    const cleanData = Object.fromEntries(Object.entries(data).filter(([_, v]) => v !== undefined));\r\n\r\n    const newPost = {\r\n      ...cleanData,\r\n      id: postRef.id,\r\n      createdAt: serverTimestamp(),\r\n      votes: 0,\r\n      commentsCount: 0,\r\n      tags: data.tags || [],\r\n    } as IPost;\r\n\r\n    await setDoc(postRef, newPost);\r\n    return postRef.id;\r\n  },\r\n\r\n  async votePost(postId: string, userId: string, voteValue: 1 | -1 | 0, previousValue: number) {\r\n    const postRef = doc(db, \"posts\", postId);\r\n    const voteRef = doc(db, \"posts\", postId, \"userVotes\", userId);\r\n\r\n    try {\r\n      await runTransaction(db, async (transaction) => {\r\n        const change = voteValue - previousValue;\r\n        transaction.set(voteRef, { value: voteValue });\r\n        transaction.update(postRef, { votes: increment(change) });\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Vote error:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async updatePost(postId: string, data: Partial<IPost>) {\r\n    const postRef = doc(db, \"posts\", postId);\r\n    await updateDoc(postRef, {\r\n      ...data,\r\n      updatedAt: serverTimestamp(),\r\n    });\r\n  },\r\n\r\n  async getUserVoteStatus(postId: string, userId: string): Promise<number> {\r\n    const voteRef = doc(db, \"posts\", postId, \"userVotes\", userId);\r\n    const docSnap = await getDoc(voteRef);\r\n    return docSnap.exists() ? docSnap.data().value : 0;\r\n  },\r\n\r\n  async deletePost(postId: string) {\r\n    await deleteDoc(doc(db, \"posts\", postId));\r\n  },\r\n\r\n  async deleteAllCommunityPosts(communityId: string) {\r\n    const q = query(postsRef, where(\"communityId\", \"==\", communityId));\r\n    const snapshot = await getDocs(q);\r\n    const batch = writeBatch(db);\r\n\r\n    snapshot.forEach((postDoc) => {\r\n      batch.delete(postDoc.ref);\r\n    });\r\n\r\n    await batch.commit();\r\n  },\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2063, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/services/community.service.ts"],"sourcesContent":["import {\r\n  collection,\r\n  getDocs,\r\n  query,\r\n  orderBy,\r\n  where,\r\n  onSnapshot,\r\n  doc,\r\n  runTransaction,\r\n  arrayRemove,\r\n  increment,\r\n  arrayUnion,\r\n  serverTimestamp,\r\n  FirestoreDataConverter,\r\n  QuerySnapshot,\r\n  QueryDocumentSnapshot,\r\n  limit,\r\n  startAfter,\r\n} from \"firebase/firestore\";\r\n\r\nimport { db } from \"@/lib/firebase\";\r\nimport { ICommunity } from \"@/types/types\";\r\n\r\nimport { PostsService } from \"./posts.service\";\r\n\r\nconst communityConverter: FirestoreDataConverter<ICommunity> = {\r\n  toFirestore: (community: ICommunity) => community,\r\n  fromFirestore: (snapshot, options) => {\r\n    const data = snapshot.data(options)!;\r\n    return { ...data, id: snapshot.id } as ICommunity;\r\n  },\r\n};\r\n\r\nconst communitiesRef = collection(db, \"communities\").withConverter(communityConverter);\r\n\r\nconst cleanCommunityName = (name: string) => name.trim();\r\nconst mapSnapshot = (snapshot: QuerySnapshot<ICommunity>) => snapshot.docs.map((doc) => doc.data());\r\n\r\nexport const CommunityService = {\r\n  async getCommunitiesBatch(\r\n    limitCount = 10,\r\n    lastVisibleDoc: QueryDocumentSnapshot<ICommunity> | null = null\r\n  ) {\r\n    let q = query(communitiesRef, orderBy(\"membersCount\", \"desc\"), limit(limitCount));\r\n\r\n    if (lastVisibleDoc) {\r\n      q = query(q, startAfter(lastVisibleDoc));\r\n    }\r\n\r\n    const snapshot = await getDocs(q);\r\n\r\n    const lastDoc = snapshot.docs[snapshot.docs.length - 1] as QueryDocumentSnapshot<ICommunity>;\r\n\r\n    return {\r\n      communities: mapSnapshot(snapshot),\r\n      lastDoc: lastDoc || null,\r\n      hasMore: snapshot.docs.length === limitCount,\r\n    };\r\n  },\r\n\r\n  subscribeToUserCommunities(userId: string, callback: (communities: ICommunity[]) => void) {\r\n    const q = query(communitiesRef, where(\"subscribers\", \"array-contains\", userId));\r\n\r\n    return onSnapshot(\r\n      q,\r\n      (snapshot) => {\r\n        callback(mapSnapshot(snapshot));\r\n      },\r\n      (error) => {\r\n        console.error(\"Subscription error:\", error);\r\n      }\r\n    );\r\n  },\r\n\r\n  async getUserCommunities(userId: string, limitCount = 100) {\r\n    const q = query(\r\n      communitiesRef,\r\n      where(\"subscribers\", \"array-contains\", userId),\r\n      limit(limitCount)\r\n    );\r\n    const snapshot = await getDocs(q);\r\n    return mapSnapshot(snapshot);\r\n  },\r\n\r\n  async toggleSubscription(communityId: string, userId: string, isSubscribed: boolean) {\r\n    const communityRef = doc(communitiesRef, communityId);\r\n    const userRef = doc(db, \"users\", userId);\r\n\r\n    try {\r\n      await runTransaction(db, async (transaction) => {\r\n        const communityDoc = await transaction.get(communityRef);\r\n        if (!communityDoc.exists()) throw new Error(\"Сообщество не существует\");\r\n\r\n        const communityData = communityDoc.data();\r\n\r\n        if (communityData.creatorId === userId && isSubscribed) {\r\n          throw new Error(\r\n            \"Создатель не может покинуть своё сообщество. Вы можете только удалить его.\"\r\n          );\r\n        }\r\n\r\n        const communityUpdate = isSubscribed\r\n          ? { subscribers: arrayRemove(userId), membersCount: increment(-1) }\r\n          : { subscribers: arrayUnion(userId), membersCount: increment(1) };\r\n\r\n        const userUpdate = {\r\n          subscribedCommunities: isSubscribed ? arrayRemove(communityId) : arrayUnion(communityId),\r\n        };\r\n\r\n        transaction.update(communityRef, communityUpdate);\r\n        transaction.update(userRef, userUpdate);\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Toggle subscription error:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async createCommunity(data: {\r\n    name: string;\r\n    creatorId: string;\r\n    description?: string;\r\n    avatarUrl?: string;\r\n    bannerUrl?: string;\r\n  }) {\r\n    const nameToSearch = cleanCommunityName(data.name);\r\n    const userRef = doc(db, \"users\", data.creatorId);\r\n    const newCommunityRef = doc(communitiesRef);\r\n\r\n    try {\r\n      return await runTransaction(db, async (transaction) => {\r\n        const nameQuery = query(communitiesRef, where(\"name\", \"==\", nameToSearch));\r\n        const nameCheck = await getDocs(nameQuery);\r\n\r\n        if (!nameCheck.empty) {\r\n          throw new Error(\"Это название уже занято\");\r\n        }\r\n\r\n        const newCommunityData: ICommunity = {\r\n          id: newCommunityRef.id,\r\n          name: nameToSearch,\r\n          description: data.description || \"\",\r\n          creatorId: data.creatorId,\r\n          createdAt: serverTimestamp() as any,\r\n          membersCount: 1,\r\n          subscribers: [data.creatorId],\r\n          avatarUrl: data.avatarUrl || \"\",\r\n          bannerUrl: data.bannerUrl || \"\",\r\n        };\r\n\r\n        transaction.set(newCommunityRef, newCommunityData);\r\n        transaction.update(userRef, {\r\n          subscribedCommunities: arrayUnion(newCommunityRef.id),\r\n        });\r\n\r\n        return nameToSearch;\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Create community error:\", error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  async getCommunityData(communityName: string) {\r\n    const cleanName = cleanCommunityName(communityName);\r\n    const q = query(communitiesRef, where(\"name\", \"==\", cleanName));\r\n    const snapshot = await getDocs(q);\r\n\r\n    return snapshot.empty ? null : snapshot.docs[0].data();\r\n  },\r\n\r\n  async updateCommunity(communityId: string, data: Partial<ICommunity>) {\r\n    const communityRef = doc(communitiesRef, communityId);\r\n\r\n    if (data.name) {\r\n      data.name = cleanCommunityName(data.name);\r\n      const nameQuery = query(communitiesRef, where(\"name\", \"==\", data.name));\r\n      const nameCheck = await getDocs(nameQuery);\r\n      const isTaken = nameCheck.docs.some((d) => d.id !== communityId);\r\n      if (isTaken) throw new Error(\"Название уже занято\");\r\n    }\r\n\r\n    await runTransaction(db, async (transaction) => {\r\n      transaction.update(communityRef, {\r\n        ...data,\r\n      });\r\n    });\r\n\r\n    return data.name;\r\n  },\r\n\r\n  async deleteCommunity(communityId: string) {\r\n    await PostsService.deleteAllCommunityPosts(communityId);\r\n\r\n    await runTransaction(db, async (transaction) => {\r\n      const communityRef = doc(communitiesRef, communityId);\r\n      const communityDoc = await transaction.get(communityRef);\r\n\r\n      if (!communityDoc.exists()) throw new Error(\"Сообщество не найдено\");\r\n\r\n      transaction.delete(communityRef);\r\n    });\r\n  },\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2217, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/DeleteConfirmModal.tsx"],"sourcesContent":["import { Loader2 } from \"lucide-react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\n\r\ninterface IDeleteConfirmModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  onConfirm: () => void;\r\n  loading: boolean;\r\n  name: string;\r\n}\r\n\r\nexport function DeleteConfirmModal({\r\n  isOpen,\r\n  onClose,\r\n  onConfirm,\r\n  loading,\r\n  name,\r\n}: IDeleteConfirmModalProps) {\r\n  return (\r\n    <Dialog open={isOpen} onOpenChange={onClose}>\r\n      <DialogContent className=\"sm:max-w-[400px]\">\r\n        <DialogHeader>\r\n          <DialogTitle>Удалить n/{name}?</DialogTitle>\r\n          <DialogDescription>\r\n            Это действие необратимо. Все данные сообщества будут безвозвратно удалены.\r\n          </DialogDescription>\r\n        </DialogHeader>\r\n        <DialogFooter className=\"gap-2 sm:gap-0\">\r\n          <Button variant=\"ghost\" onClick={onClose} disabled={loading}>\r\n            Отмена\r\n          </Button>\r\n          <Button variant=\"destructive\" onClick={onConfirm} disabled={loading}>\r\n            {loading ? <Loader2 className=\"animate-spin h-4 w-4\" /> : \"Да, удалить\"}\r\n          </Button>\r\n        </DialogFooter>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;;;;;AAiBO,SAAS,mBAAmB,EACjC,MAAM,EACN,OAAO,EACP,SAAS,EACT,OAAO,EACP,IAAI,EACqB;IACzB,qBACE,6LAAC,+IAAM;QAAC,MAAM;QAAQ,cAAc;kBAClC,cAAA,6LAAC,sJAAa;YAAC,WAAU;;8BACvB,6LAAC,qJAAY;;sCACX,6LAAC,oJAAW;;gCAAC;gCAAW;gCAAK;;;;;;;sCAC7B,6LAAC,0JAAiB;sCAAC;;;;;;;;;;;;8BAIrB,6LAAC,qJAAY;oBAAC,WAAU;;sCACtB,6LAAC,+IAAM;4BAAC,SAAQ;4BAAQ,SAAS;4BAAS,UAAU;sCAAS;;;;;;sCAG7D,6LAAC,+IAAM;4BAAC,SAAQ;4BAAc,SAAS;4BAAW,UAAU;sCACzD,wBAAU,6LAAC,+NAAO;gCAAC,WAAU;;;;;uCAA4B;;;;;;;;;;;;;;;;;;;;;;;AAMtE;KA3BgB"}},
    {"offset": {"line": 2319, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Popover as PopoverPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Popover({ ...props }: React.ComponentProps<typeof PopoverPrimitive.Root>) {\r\n  return <PopoverPrimitive.Root data-slot=\"popover\" {...props} />;\r\n}\r\n\r\nfunction PopoverTrigger({ ...props }: React.ComponentProps<typeof PopoverPrimitive.Trigger>) {\r\n  return <PopoverPrimitive.Trigger data-slot=\"popover-trigger\" {...props} />;\r\n}\r\n\r\nfunction PopoverContent({\r\n  className,\r\n  align = \"center\",\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof PopoverPrimitive.Content>) {\r\n  return (\r\n    <PopoverPrimitive.Portal>\r\n      <PopoverPrimitive.Content\r\n        data-slot=\"popover-content\"\r\n        align={align}\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    </PopoverPrimitive.Portal>\r\n  );\r\n}\r\n\r\nfunction PopoverAnchor({ ...props }: React.ComponentProps<typeof PopoverPrimitive.Anchor>) {\r\n  return <PopoverPrimitive.Anchor data-slot=\"popover-anchor\" {...props} />;\r\n}\r\n\r\nfunction PopoverHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"popover-header\"\r\n      className={cn(\"flex flex-col gap-1 text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction PopoverTitle({ className, ...props }: React.ComponentProps<\"h2\">) {\r\n  return <div data-slot=\"popover-title\" className={cn(\"font-medium\", className)} {...props} />;\r\n}\r\n\r\nfunction PopoverDescription({ className, ...props }: React.ComponentProps<\"p\">) {\r\n  return (\r\n    <p\r\n      data-slot=\"popover-description\"\r\n      className={cn(\"text-muted-foreground\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  Popover,\r\n  PopoverTrigger,\r\n  PopoverContent,\r\n  PopoverAnchor,\r\n  PopoverHeader,\r\n  PopoverTitle,\r\n  PopoverDescription,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;AAGA;AALA;;;;AAOA,SAAS,QAAQ,EAAE,GAAG,OAA2D;IAC/E,qBAAO,6LAAC,oNAAgB,CAAC,IAAI;QAAC,aAAU;QAAW,GAAG,KAAK;;;;;;AAC7D;KAFS;AAIT,SAAS,eAAe,EAAE,GAAG,OAA8D;IACzF,qBAAO,6LAAC,oNAAgB,CAAC,OAAO;QAAC,aAAU;QAAmB,GAAG,KAAK;;;;;;AACxE;MAFS;AAIT,SAAS,eAAe,EACtB,SAAS,EACT,QAAQ,QAAQ,EAChB,aAAa,CAAC,EACd,GAAG,OACmD;IACtD,qBACE,6LAAC,oNAAgB,CAAC,MAAM;kBACtB,cAAA,6LAAC,oNAAgB,CAAC,OAAO;YACvB,aAAU;YACV,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,4HAAE,EACX,keACA;YAED,GAAG,KAAK;;;;;;;;;;;AAIjB;MApBS;AAsBT,SAAS,cAAc,EAAE,GAAG,OAA6D;IACvF,qBAAO,6LAAC,oNAAgB,CAAC,MAAM;QAAC,aAAU;QAAkB,GAAG,KAAK;;;;;;AACtE;MAFS;AAIT,SAAS,cAAc,EAAE,SAAS,EAAE,GAAG,OAAoC;IACzE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,+BAA+B;QAC5C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,aAAa,EAAE,SAAS,EAAE,GAAG,OAAmC;IACvE,qBAAO,6LAAC;QAAI,aAAU;QAAgB,WAAW,IAAA,4HAAE,EAAC,eAAe;QAAa,GAAG,KAAK;;;;;;AAC1F;MAFS;AAIT,SAAS,mBAAmB,EAAE,SAAS,EAAE,GAAG,OAAkC;IAC5E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 2447, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ImageUploader.tsx"],"sourcesContent":["\"use client\";\r\nimport { ImageIcon, X, Link as LinkIcon, Check } from \"lucide-react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface IImageUploaderProps {\r\n  url: string;\r\n  onChange: (v: string) => void;\r\n  variant?: \"default\" | \"compact\";\r\n}\r\n\r\nexport function ImageUploader({ url, onChange, variant = \"default\" }: IImageUploaderProps) {\r\n  const isCompact = variant === \"compact\";\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      {!isCompact && url && (\r\n        <div className=\"relative group rounded-3xl overflow-hidden border bg-muted/30 mb-4\">\r\n          <img src={url} alt=\"Preview\" className=\"w-full max-h-125 object-contain mx-auto\" />\r\n          <div className=\"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n            <Button\r\n              variant=\"destructive\"\r\n              size=\"sm\"\r\n              onClick={() => onChange(\"\")}\r\n              className=\"cursor-pointer rounded-full shadow-xl\"\r\n            >\r\n              <X className=\"h-4 w-4 mr-2\" /> Удалить\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <Popover>\r\n        <PopoverTrigger asChild>\r\n          <Button\r\n            type=\"button\"\r\n            variant=\"outline\"\r\n            className={cn(\r\n              \"w-full rounded-xl border-2 border-dashed gap-3 text-muted-foreground hover:border-primary/40 transition-all\",\r\n              isCompact ? \"h-10 text-sm justify-start px-3\" : \"h-16 text-lg font-semibold\"\r\n            )}\r\n          >\r\n            <ImageIcon className={cn(isCompact ? \"h-4 w-4\" : \"h-6 w-6\")} />\r\n            <span className=\"truncate\">\r\n              {url\r\n                ? isCompact\r\n                  ? \"Ссылка добавлена\"\r\n                  : \"Изменить обложку\"\r\n                : isCompact\r\n                  ? \"Указать ссылку...\"\r\n                  : \"Добавить обложку\"}\r\n            </span>\r\n            {isCompact && url && <Check className=\"h-4 w-4 ml-auto text-green-500\" />}\r\n          </Button>\r\n        </PopoverTrigger>\r\n        <PopoverContent\r\n          className=\"w-80 p-4 rounded-2xl shadow-2xl\"\r\n          align={isCompact ? \"center\" : \"start\"}\r\n        >\r\n          <div className=\"space-y-3\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center gap-2 font-bold text-xs uppercase tracking-wider text-muted-foreground\">\r\n                <LinkIcon className=\"h-3 w-3 text-primary\" /> Ссылка на фото\r\n              </div>\r\n              {url && (\r\n                <button\r\n                  onClick={() => onChange(\"\")}\r\n                  className=\"text-[10px] text-destructive hover:underline\"\r\n                >\r\n                  Удалить\r\n                </button>\r\n              )}\r\n            </div>\r\n            <Input\r\n              placeholder=\"https://example.com/image.jpg\"\r\n              value={url}\r\n              onChange={(e) => onChange(e.target.value)}\r\n              className=\"rounded-lg h-9 text-sm\"\r\n              autoFocus\r\n            />\r\n          </div>\r\n        </PopoverContent>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AANA;;;;;;;AAcO,SAAS,cAAc,EAAE,GAAG,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAuB;IACvF,MAAM,YAAY,YAAY;IAE9B,qBACE,6LAAC;QAAI,WAAU;;YACZ,CAAC,aAAa,qBACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,KAAK;wBAAK,KAAI;wBAAU,WAAU;;;;;;kCACvC,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,+IAAM;4BACL,SAAQ;4BACR,MAAK;4BACL,SAAS,IAAM,SAAS;4BACxB,WAAU;;8CAEV,6LAAC,oMAAC;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;0BAMtC,6LAAC,iJAAO;;kCACN,6LAAC,wJAAc;wBAAC,OAAO;kCACrB,cAAA,6LAAC,+IAAM;4BACL,MAAK;4BACL,SAAQ;4BACR,WAAW,IAAA,4HAAE,EACX,+GACA,YAAY,oCAAoC;;8CAGlD,6LAAC,wNAAS;oCAAC,WAAW,IAAA,4HAAE,EAAC,YAAY,YAAY;;;;;;8CACjD,6LAAC;oCAAK,WAAU;8CACb,MACG,YACE,qBACA,qBACF,YACE,sBACA;;;;;;gCAEP,aAAa,qBAAO,6LAAC,gNAAK;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAG1C,6LAAC,wJAAc;wBACb,WAAU;wBACV,OAAO,YAAY,WAAW;kCAE9B,cAAA,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,6MAAQ;oDAAC,WAAU;;;;;;gDAAyB;;;;;;;wCAE9C,qBACC,6LAAC;4CACC,SAAS,IAAM,SAAS;4CACxB,WAAU;sDACX;;;;;;;;;;;;8CAKL,6LAAC,6IAAK;oCACJ,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oCACxC,WAAU;oCACV,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOvB;KA1EgB"}},
    {"offset": {"line": 2645, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/features/communities/components/CreateCommunityModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Loader2 } from \"lucide-react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { ROUTES } from \"@/lib/routes\";\r\nimport { CommunityService } from \"@/services/community.service\";\r\nimport { ICommunity } from \"@/types/types\";\r\n\r\nimport { DeleteConfirmModal } from \"../../../components/DeleteConfirmModal\";\r\nimport { ImageUploader } from \"../../../components/ImageUploader\";\r\n\r\ninterface ICreateComminutyModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  initialData?: ICommunity | null;\r\n}\r\n\r\nexport function CreateCommunityModal({ isOpen, onClose, initialData }: ICreateComminutyModalProps) {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n  const isEditMode = !!initialData;\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [avatarUrl, setAvatarUrl] = useState(\"\");\r\n  const [bannerUrl, setBannerUrl] = useState(\"\");\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (initialData) {\r\n      setName(initialData.name);\r\n      setDescription(initialData.description || \"\");\r\n      setAvatarUrl(initialData.avatarUrl || \"\");\r\n      setBannerUrl(initialData.bannerUrl || \"\");\r\n    }\r\n  }, [initialData]);\r\n\r\n  const handleNameChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const val = e.target.value.replace(/[^a-zA-Z0-9_]/g, \"\");\r\n\r\n    if (val.length <= 21) {\r\n      setName(val);\r\n    }\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!initialData?.id) return;\r\n    setLoading(true);\r\n    try {\r\n      await CommunityService.deleteCommunity(initialData.id);\r\n      toast.success(\"Сообщество удалено\");\r\n      setIsDeleteModalOpen(false);\r\n      onClose();\r\n      router.push(ROUTES.HOME);\r\n    } catch (error: any) {\r\n      toast.error(error.message || \"Не удалось удалить\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    if (!user) return toast.info(\"Нужно войти в аккаунт\");\r\n    if (name.length < 3) return toast.error(\"Название слишком короткое\");\r\n\r\n    setLoading(true);\r\n    try {\r\n      let finalSlug: string | undefined;\r\n\r\n      if (isEditMode && initialData?.id) {\r\n        finalSlug = await CommunityService.updateCommunity(initialData.id, {\r\n          name,\r\n          description,\r\n          avatarUrl,\r\n          bannerUrl,\r\n        });\r\n        toast.success(\"Сообщество обновлено\");\r\n      } else {\r\n        finalSlug = await CommunityService.createCommunity({\r\n          name,\r\n          description,\r\n          creatorId: user.uid,\r\n          avatarUrl,\r\n          bannerUrl,\r\n        });\r\n        toast.success(`Сообщество n/${finalSlug} создано!`);\r\n      }\r\n\r\n      onClose();\r\n      router.push(finalSlug ? ROUTES.COMMUNITY(finalSlug) : ROUTES.ALL_COMMUNITIES);\r\n\r\n      if (!isEditMode) {\r\n        setName(\"\");\r\n        setDescription(\"\");\r\n        setAvatarUrl(\"\");\r\n        setBannerUrl(\"\");\r\n      }\r\n    } catch (error: any) {\r\n      toast.error(error.message || \"Ошибка\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Dialog open={isOpen} onOpenChange={onClose}>\r\n        <DialogContent className=\"sm:max-w-md w-[95vw] rounded-lg max-h-[90vh] overflow-y-auto overflow-x-hidden min-w-0\">\r\n          <DialogHeader>\r\n            <DialogTitle>{isEditMode ? \"Настройки сообщества\" : \"Создать сообщество\"}</DialogTitle>\r\n            <DialogDescription>\r\n              {isEditMode\r\n                ? \"Измените данные вашего сообщества\"\r\n                : \"Заполните данные для вашего нового дома.\"}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-4 pt-4 min-w-0\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"name\">Название (обязательно)</Label>\r\n              <div className=\"relative\">\r\n                <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-bold text-sm\">\r\n                  n/\r\n                </span>\r\n                <Input\r\n                  id=\"name\"\r\n                  className=\"pl-8\"\r\n                  value={name}\r\n                  onChange={handleNameChange}\r\n                  placeholder=\"my_community\"\r\n                  required\r\n                />\r\n              </div>\r\n              <p className=\"text-[10px] text-muted-foreground\">От 3 до 21 символа. Без пробелов.</p>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-2\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"avatar\">Аватарка сообщества</Label>\r\n                <ImageUploader url={avatarUrl} onChange={setAvatarUrl} variant=\"compact\" />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"banner\">Баннер (фон)</Label>\r\n                <ImageUploader url={bannerUrl} onChange={setBannerUrl} variant=\"compact\" />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2 min-w-0 w-full\">\r\n              <Label htmlFor=\"description\">Описание</Label>\r\n              <Textarea\r\n                id=\"description\"\r\n                value={description}\r\n                onChange={(e) => setDescription(e.target.value)}\r\n                placeholder=\"О чем это сообщество?\"\r\n                className=\"resize-none h-32 w-full min-w-0 max-w-full overflow-y-auto whitespace-pre-wrap break-after-all\"\r\n              />\r\n            </div>\r\n\r\n            <DialogFooter className=\"pt-4 flex flex-col sm:flex-row gap-2\">\r\n              {isEditMode && (\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"destructive\"\r\n                  className=\"sm:mr-auto rounded-full cursor-pointer\"\r\n                  onClick={() => setIsDeleteModalOpen(true)}\r\n                  disabled={loading}\r\n                >\r\n                  Удалить\r\n                </Button>\r\n              )}\r\n\r\n              <div className=\"flex gap-2 justify-end\">\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"ghost\"\r\n                  onClick={onClose}\r\n                  disabled={loading}\r\n                  className=\"cursor-pointer\"\r\n                >\r\n                  Отмена\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={loading || name.length < 3}\r\n                  className=\"cursor-pointer bg-primary rounded-full px-8\"\r\n                >\r\n                  {loading ? (\r\n                    <Loader2 className=\"animate-spin h-4 w-4\" />\r\n                  ) : isEditMode ? (\r\n                    \"Сохранить\"\r\n                  ) : (\r\n                    `Создать n/${name || \"...\"}`\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n      <DeleteConfirmModal\r\n        isOpen={isDeleteModalOpen}\r\n        onClose={() => setIsDeleteModalOpen(false)}\r\n        onConfirm={handleDelete}\r\n        loading={loading}\r\n        name={initialData?.name || \"\"}\r\n      />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3046, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/AppSidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Home, Globe, Plus, Loader2 } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport {\r\n  Sidebar,\r\n  SidebarContent,\r\n  SidebarGroup,\r\n  SidebarGroupContent,\r\n  SidebarGroupLabel,\r\n  SidebarMenu,\r\n  SidebarMenuButton,\r\n  SidebarMenuItem,\r\n  useSidebar,\r\n} from \"@/components/ui/sidebar\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { CreateCommunityModal } from \"@/features/communities/components/CreateCommunityModal\";\r\nimport { ROUTES } from \"@/lib/routes\";\r\nimport { CommunityService } from \"@/services/community.service\";\r\nimport { ICommunity } from \"@/types/types\";\r\n\r\nexport function AppSidebar() {\r\n  const pathname = usePathname();\r\n  const { user } = useAuth();\r\n\r\n  const { setOpenMobile, isMobile } = useSidebar();\r\n\r\n  const [communities, setCommunities] = useState<ICommunity[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      setCommunities([]);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    const unsubscribe = CommunityService.subscribeToUserCommunities(user.uid, (data) => {\r\n      setCommunities(data);\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [user]);\r\n\r\n  const handleItemClick = () => {\r\n    if (!user) {\r\n      toast.info(\"Войдите, чтобы подписываться\");\r\n      return;\r\n    }\r\n    if (isMobile) {\r\n      setOpenMobile(false);\r\n    }\r\n\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Sidebar className=\"sticky top-16 h-[calc(100vh-64px)] border-r\">\r\n        <SidebarContent className=\"bg-background pt-4\">\r\n          <SidebarGroup>\r\n            <SidebarGroupContent>\r\n              <SidebarMenu>\r\n                {[\r\n                  { title: \"Лента\", url: ROUTES.HOME, icon: Home },\r\n                  {\r\n                    title: \"Сообщества\",\r\n                    url: ROUTES.ALL_COMMUNITIES,\r\n                    icon: Globe,\r\n                  },\r\n                ].map((item) => (\r\n                  <SidebarMenuItem key={item.title}>\r\n                    <SidebarMenuButton asChild isActive={pathname === item.url}>\r\n                      <Link href={item.url} onClick={handleItemClick}>\r\n                        <item.icon className=\"h-4 w-4\" />\r\n                        <span>{item.title}</span>\r\n                      </Link>\r\n                    </SidebarMenuButton>\r\n                  </SidebarMenuItem>\r\n                ))}\r\n              </SidebarMenu>\r\n            </SidebarGroupContent>\r\n          </SidebarGroup>\r\n\r\n          <SidebarGroup>\r\n            <div className=\"flex items-center justify-between px-2 mb-2\">\r\n              <SidebarGroupLabel className=\"text-[10px] uppercase\">\r\n                Мои сообщества\r\n              </SidebarGroupLabel>\r\n              <Plus\r\n                className=\"h-4 w-4 cursor-pointer hover:text-primary transition-colors\"\r\n                onClick={() => {\r\n                  handleItemClick();\r\n                }}\r\n              />\r\n            </div>\r\n            <SidebarGroupContent>\r\n              <SidebarMenu>\r\n                {loading ? (\r\n                  <div className=\"flex justify-center py-2\">\r\n                    <Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\r\n                  </div>\r\n                ) : communities.length > 0 ? (\r\n                  communities.map((sub) => (\r\n                    <SidebarMenuItem key={sub.id}>\r\n                      <SidebarMenuButton asChild isActive={pathname === ROUTES.COMMUNITY(sub.name)}>\r\n                        <Link\r\n                          href={ROUTES.COMMUNITY(sub.name)}\r\n                          onClick={handleItemClick}\r\n                          className=\"flex items-center gap-2\"\r\n                        >\r\n                          <Avatar className=\"h-4 w-4 border shadow-sm\">\r\n                            <AvatarImage\r\n                              src={sub.avatarUrl}\r\n                              alt={sub.name}\r\n                              className=\"object-cover\"\r\n                            />\r\n                            <AvatarFallback className=\"bg-muted text-muted-foreground font-bold uppercase text-xs\">\r\n                              {sub.name[0]}\r\n                            </AvatarFallback>\r\n                          </Avatar>\r\n                          <span className=\"truncate\">n/{sub.name}</span>\r\n                        </Link>\r\n                      </SidebarMenuButton>\r\n                    </SidebarMenuItem>\r\n                  ))\r\n                ) : (\r\n                  <p className=\"px-4 py-2 text-[10px] text-muted-foreground italic\">\r\n                    Вы пока ни на что не подписаны\r\n                  </p>\r\n                )}\r\n              </SidebarMenu>\r\n            </SidebarGroupContent>\r\n          </SidebarGroup>\r\n        </SidebarContent>\r\n      </Sidebar>\r\n\r\n      <CreateCommunityModal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} />\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3360, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/dropdown-menu.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { CheckIcon, ChevronRightIcon, CircleIcon } from \"lucide-react\";\r\nimport { DropdownMenu as DropdownMenuPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction DropdownMenu({ ...props }: React.ComponentProps<typeof DropdownMenuPrimitive.Root>) {\r\n  return <DropdownMenuPrimitive.Root data-slot=\"dropdown-menu\" {...props} />;\r\n}\r\n\r\nfunction DropdownMenuPortal({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Portal>) {\r\n  return <DropdownMenuPrimitive.Portal data-slot=\"dropdown-menu-portal\" {...props} />;\r\n}\r\n\r\nfunction DropdownMenuTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Trigger>) {\r\n  return <DropdownMenuPrimitive.Trigger data-slot=\"dropdown-menu-trigger\" {...props} />;\r\n}\r\n\r\nfunction DropdownMenuContent({\r\n  className,\r\n  sideOffset = 4,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Content>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Portal>\r\n      <DropdownMenuPrimitive.Content\r\n        data-slot=\"dropdown-menu-content\"\r\n        sideOffset={sideOffset}\r\n        className={cn(\r\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    </DropdownMenuPrimitive.Portal>\r\n  );\r\n}\r\n\r\nfunction DropdownMenuGroup({ ...props }: React.ComponentProps<typeof DropdownMenuPrimitive.Group>) {\r\n  return <DropdownMenuPrimitive.Group data-slot=\"dropdown-menu-group\" {...props} />;\r\n}\r\n\r\nfunction DropdownMenuItem({\r\n  className,\r\n  inset,\r\n  variant = \"default\",\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Item> & {\r\n  inset?: boolean;\r\n  variant?: \"default\" | \"destructive\";\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Item\r\n      data-slot=\"dropdown-menu-item\"\r\n      data-inset={inset}\r\n      data-variant={variant}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DropdownMenuCheckboxItem({\r\n  className,\r\n  children,\r\n  checked,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.CheckboxItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.CheckboxItem\r\n      data-slot=\"dropdown-menu-checkbox-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      checked={checked}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CheckIcon className=\"size-4\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.CheckboxItem>\r\n  );\r\n}\r\n\r\nfunction DropdownMenuRadioGroup({\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioGroup>) {\r\n  return <DropdownMenuPrimitive.RadioGroup data-slot=\"dropdown-menu-radio-group\" {...props} />;\r\n}\r\n\r\nfunction DropdownMenuRadioItem({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.RadioItem>) {\r\n  return (\r\n    <DropdownMenuPrimitive.RadioItem\r\n      data-slot=\"dropdown-menu-radio-item\"\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <span className=\"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center\">\r\n        <DropdownMenuPrimitive.ItemIndicator>\r\n          <CircleIcon className=\"size-2 fill-current\" />\r\n        </DropdownMenuPrimitive.ItemIndicator>\r\n      </span>\r\n      {children}\r\n    </DropdownMenuPrimitive.RadioItem>\r\n  );\r\n}\r\n\r\nfunction DropdownMenuLabel({\r\n  className,\r\n  inset,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Label> & {\r\n  inset?: boolean;\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.Label\r\n      data-slot=\"dropdown-menu-label\"\r\n      data-inset={inset}\r\n      className={cn(\"px-2 py-1.5 text-sm font-medium data-[inset]:pl-8\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DropdownMenuSeparator({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.Separator>) {\r\n  return (\r\n    <DropdownMenuPrimitive.Separator\r\n      data-slot=\"dropdown-menu-separator\"\r\n      className={cn(\"bg-border -mx-1 my-1 h-px\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DropdownMenuShortcut({ className, ...props }: React.ComponentProps<\"span\">) {\r\n  return (\r\n    <span\r\n      data-slot=\"dropdown-menu-shortcut\"\r\n      className={cn(\"text-muted-foreground ml-auto text-xs tracking-widest\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction DropdownMenuSub({ ...props }: React.ComponentProps<typeof DropdownMenuPrimitive.Sub>) {\r\n  return <DropdownMenuPrimitive.Sub data-slot=\"dropdown-menu-sub\" {...props} />;\r\n}\r\n\r\nfunction DropdownMenuSubTrigger({\r\n  className,\r\n  inset,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n  inset?: boolean;\r\n}) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubTrigger\r\n      data-slot=\"dropdown-menu-sub-trigger\"\r\n      data-inset={inset}\r\n      className={cn(\r\n        \"focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      {children}\r\n      <ChevronRightIcon className=\"ml-auto size-4\" />\r\n    </DropdownMenuPrimitive.SubTrigger>\r\n  );\r\n}\r\n\r\nfunction DropdownMenuSubContent({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof DropdownMenuPrimitive.SubContent>) {\r\n  return (\r\n    <DropdownMenuPrimitive.SubContent\r\n      data-slot=\"dropdown-menu-sub-content\"\r\n      className={cn(\r\n        \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuPortal,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuGroup,\r\n  DropdownMenuLabel,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioGroup,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuSubContent,\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3669, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/services/notification.service.ts"],"sourcesContent":["import {\r\n  addDoc,\r\n  collection,\r\n  doc,\r\n  getDocs,\r\n  onSnapshot,\r\n  orderBy,\r\n  query,\r\n  serverTimestamp,\r\n  updateDoc,\r\n  where,\r\n  writeBatch,\r\n} from \"firebase/firestore\";\r\n\r\nimport { db } from \"@/lib/firebase\";\r\nimport { INotification } from \"@/types/types\";\r\n\r\nexport const NotificationService = {\r\n  async createNotification(notificationData: Omit<INotification, \"id\" | \"createdAt\" | \"read\">) {\r\n    if (notificationData.recipientId === notificationData.issuerId) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await addDoc(collection(db, \"notifications\"), {\r\n        ...notificationData,\r\n        read: false,\r\n        createdAt: serverTimestamp(),\r\n      });\r\n    } catch (e) {\r\n      console.error(\"Ошибка при записи уведомления:\", e);\r\n    }\r\n  },\r\n\r\n  subscribeToNotifications(userId: string, callback: (data: INotification[]) => void) {\r\n    const q = query(\r\n      collection(db, \"notifications\"),\r\n      where(\"recipientId\", \"==\", userId),\r\n      orderBy(\"createdAt\", \"desc\")\r\n    );\r\n\r\n    return onSnapshot(q, (snapshot) => {\r\n      const notifications = snapshot.docs.map((doc) => ({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n      })) as INotification[];\r\n      callback(notifications);\r\n    });\r\n  },\r\n\r\n  async markAsRead(notificationId: string) {\r\n    await updateDoc(doc(db, \"notifications\", notificationId), { read: true });\r\n  },\r\n\r\n  async clearAllNotifications(userId: string) {\r\n    const q = query(collection(db, \"notifications\"), where(\"recipientId\", \"==\", userId));\r\n    const snapshot = await getDocs(q);\r\n\r\n    const batch = writeBatch(db);\r\n    snapshot.docs.forEach((doc) => {\r\n      batch.delete(doc.ref);\r\n    });\r\n\r\n    await batch.commit();\r\n  },\r\n};\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AAcA;;;AAGO,MAAM,sBAAsB;IACjC,MAAM,oBAAmB,gBAAkE;QACzF,IAAI,iBAAiB,WAAW,KAAK,iBAAiB,QAAQ,EAAE;YAC9D;QACF;QAEA,IAAI;YACF,MAAM,IAAA,4KAAM,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,kBAAkB;gBAC5C,GAAG,gBAAgB;gBACnB,MAAM;gBACN,WAAW,IAAA,qLAAe;YAC5B;QACF,EAAE,OAAO,GAAG;YACV,QAAQ,KAAK,CAAC,kCAAkC;QAClD;IACF;IAEA,0BAAyB,MAAc,EAAE,QAAyC;QAChF,MAAM,IAAI,IAAA,2KAAK,EACb,IAAA,gLAAU,EAAC,+HAAE,EAAE,kBACf,IAAA,2KAAK,EAAC,eAAe,MAAM,SAC3B,IAAA,6KAAO,EAAC,aAAa;QAGvB,OAAO,IAAA,gLAAU,EAAC,GAAG,CAAC;YACpB,MAAM,gBAAgB,SAAS,IAAI,CAAC,GAAG,CAAC,CAAC,MAAQ,CAAC;oBAChD,IAAI,IAAI,EAAE;oBACV,GAAG,IAAI,IAAI,EAAE;gBACf,CAAC;YACD,SAAS;QACX;IACF;IAEA,MAAM,YAAW,cAAsB;QACrC,MAAM,IAAA,+KAAS,EAAC,IAAA,yKAAG,EAAC,+HAAE,EAAE,iBAAiB,iBAAiB;YAAE,MAAM;QAAK;IACzE;IAEA,MAAM,uBAAsB,MAAc;QACxC,MAAM,IAAI,IAAA,2KAAK,EAAC,IAAA,gLAAU,EAAC,+HAAE,EAAE,kBAAkB,IAAA,2KAAK,EAAC,eAAe,MAAM;QAC5E,MAAM,WAAW,MAAM,IAAA,6KAAO,EAAC;QAE/B,MAAM,QAAQ,IAAA,gLAAU,EAAC,+HAAE;QAC3B,SAAS,IAAI,CAAC,OAAO,CAAC,CAAC;YACrB,MAAM,MAAM,CAAC,IAAI,GAAG;QACtB;QAEA,MAAM,MAAM,MAAM;IACpB;AACF"}},
    {"offset": {"line": 3725, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/icons/LogoTextIcon.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\n\r\nexport function LogoTextIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg\r\n      width=\"240\"\r\n      height=\"80\"\r\n      viewBox=\"0 0 240 80\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className={cn(\"h-14 w-auto\", className)}\r\n    >\r\n      <style>{`.netty-text { font-family: sans-serif; font-weight: 800; font-size: 54px; }`}</style>\r\n\r\n      <text x=\"10\" y=\"60\" className=\"netty-text fill-foreground/90 dark:fill-foreground\">\r\n        N<tspan className=\"fill-primary\">e</tspan>tty\r\n      </text>\r\n\r\n      {/* Оранжевая точка */}\r\n      <circle cx=\"215\" cy=\"25\" r=\"7\" className=\"fill-chart-1\" />\r\n\r\n      {/* Синяя линия */}\r\n      <path d=\"M215,32 L215,50\" strokeWidth=\"4\" strokeLinecap=\"round\" className=\"stroke-primary\" />\r\n    </svg>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEO,SAAS,aAAa,EAAE,SAAS,EAA0B;IAChE,qBACE,6LAAC;QACC,OAAM;QACN,QAAO;QACP,SAAQ;QACR,OAAM;QACN,WAAW,IAAA,4HAAE,EAAC,eAAe;;0BAE7B,6LAAC;0BAAO,CAAC,2EAA2E,CAAC;;;;;;0BAErF,6LAAC;gBAAK,GAAE;gBAAK,GAAE;gBAAK,WAAU;;oBAAqD;kCAChF,6LAAC;wBAAM,WAAU;kCAAe;;;;;;oBAAS;;;;;;;0BAI5C,6LAAC;gBAAO,IAAG;gBAAM,IAAG;gBAAK,GAAE;gBAAI,WAAU;;;;;;0BAGzC,6LAAC;gBAAK,GAAE;gBAAkB,aAAY;gBAAI,eAAc;gBAAQ,WAAU;;;;;;;;;;;;AAGhF;KAtBgB"}},
    {"offset": {"line": 3806, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/icons/MaskotIcon.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\n\r\nexport function MaskotIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg\r\n      viewBox=\"0 0 200 200\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className={cn(\"h-14 w-fit\", className)}\r\n    >\r\n      {/* Маскот */}\r\n      <rect x=\"70\" y=\"130\" width=\"60\" height=\"40\" rx=\"20\" className=\"fill-primary\" />\r\n      <line\r\n        x1=\"100\"\r\n        y1=\"60\"\r\n        x2=\"100\"\r\n        y2=\"30\"\r\n        strokeWidth=\"6\"\r\n        strokeLinecap=\"round\"\r\n        className=\"stroke-primary\"\r\n      />\r\n      <path\r\n        d=\"M100,50 C60,50 40,75 40,100 C40,125 60,150 100,150 C110,150 120,148 130,145 L160,155 L150,125 C157,118 160,110 160,100 C160,75 140,50 100,50 Z\"\r\n        className=\"fill-primary\"\r\n      />\r\n\r\n      {/* Оранжевый шар */}\r\n      <circle cx=\"100\" cy=\"25\" r=\"10\" className=\"fill-chart-1\" />\r\n\r\n      {/* Глаза */}\r\n      <circle cx=\"75\" cy=\"100\" r=\"8\" className=\"fill-white dark:fill-background\" />\r\n      <circle cx=\"125\" cy=\"100\" r=\"8\" className=\"fill-white dark:fill-background\" />\r\n    </svg>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEO,SAAS,WAAW,EAAE,SAAS,EAA0B;IAC9D,qBACE,6LAAC;QACC,SAAQ;QACR,OAAM;QACN,WAAW,IAAA,4HAAE,EAAC,cAAc;;0BAG5B,6LAAC;gBAAK,GAAE;gBAAK,GAAE;gBAAM,OAAM;gBAAK,QAAO;gBAAK,IAAG;gBAAK,WAAU;;;;;;0BAC9D,6LAAC;gBACC,IAAG;gBACH,IAAG;gBACH,IAAG;gBACH,IAAG;gBACH,aAAY;gBACZ,eAAc;gBACd,WAAU;;;;;;0BAEZ,6LAAC;gBACC,GAAE;gBACF,WAAU;;;;;;0BAIZ,6LAAC;gBAAO,IAAG;gBAAM,IAAG;gBAAK,GAAE;gBAAK,WAAU;;;;;;0BAG1C,6LAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAM,GAAE;gBAAI,WAAU;;;;;;0BACzC,6LAAC;gBAAO,IAAG;gBAAM,IAAG;gBAAM,GAAE;gBAAI,WAAU;;;;;;;;;;;;AAGhD;KA/BgB"}},
    {"offset": {"line": 3900, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ThemeToggle.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Moon, Sun } from \"lucide-react\";\r\nimport { useTheme } from \"next-themes\";\r\nimport * as React from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\n\r\nexport function ModeToggle() {\r\n  const { setTheme } = useTheme();\r\n\r\n  return (\r\n    <DropdownMenu>\r\n      <DropdownMenuTrigger asChild className=\"cursor-pointer\">\r\n        <Button variant=\"outline\" size=\"icon\">\r\n          <Sun className=\"h-[1.2rem] w-[1.2rem] scale-100 rotate-0 transition-all dark:scale-0 dark:-rotate-90\" />\r\n          <Moon className=\"absolute h-[1.2rem] w-[1.2rem] scale-0 rotate-90 transition-all dark:scale-100 dark:rotate-0\" />\r\n          <span className=\"sr-only\">Тема</span>\r\n        </Button>\r\n      </DropdownMenuTrigger>\r\n      <DropdownMenuContent align=\"end\">\r\n        <DropdownMenuItem className=\"cursor-pointer\" onClick={() => setTheme(\"light\")}>\r\n          Светлая\r\n        </DropdownMenuItem>\r\n        <DropdownMenuItem className=\"cursor-pointer\" onClick={() => setTheme(\"dark\")}>\r\n          Темная\r\n        </DropdownMenuItem>\r\n        <DropdownMenuItem className=\"cursor-pointer\" onClick={() => setTheme(\"system\")}>\r\n          Как в системе\r\n        </DropdownMenuItem>\r\n      </DropdownMenuContent>\r\n    </DropdownMenu>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAGA;AACA;;;AAPA;;;;;AAcO,SAAS;;IACd,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAA,+JAAQ;IAE7B,qBACE,6LAAC,+JAAY;;0BACX,6LAAC,sKAAmB;gBAAC,OAAO;gBAAC,WAAU;0BACrC,cAAA,6LAAC,+IAAM;oBAAC,SAAQ;oBAAU,MAAK;;sCAC7B,6LAAC,0MAAG;4BAAC,WAAU;;;;;;sCACf,6LAAC,6MAAI;4BAAC,WAAU;;;;;;sCAChB,6LAAC;4BAAK,WAAU;sCAAU;;;;;;;;;;;;;;;;;0BAG9B,6LAAC,sKAAmB;gBAAC,OAAM;;kCACzB,6LAAC,mKAAgB;wBAAC,WAAU;wBAAiB,SAAS,IAAM,SAAS;kCAAU;;;;;;kCAG/E,6LAAC,mKAAgB;wBAAC,WAAU;wBAAiB,SAAS,IAAM,SAAS;kCAAS;;;;;;kCAG9E,6LAAC,mKAAgB;wBAAC,WAAU;wBAAiB,SAAS,IAAM,SAAS;kCAAW;;;;;;;;;;;;;;;;;;AAMxF;GAzBgB;;QACO,+JAAQ;;;KADf"}},
    {"offset": {"line": 4020, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/scroll-area.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ScrollArea as ScrollAreaPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction ScrollArea({\r\n  className,\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof ScrollAreaPrimitive.Root>) {\r\n  return (\r\n    <ScrollAreaPrimitive.Root\r\n      data-slot=\"scroll-area\"\r\n      className={cn(\"relative\", className)}\r\n      {...props}\r\n    >\r\n      <ScrollAreaPrimitive.Viewport\r\n        data-slot=\"scroll-area-viewport\"\r\n        className=\"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1\"\r\n      >\r\n        {children}\r\n      </ScrollAreaPrimitive.Viewport>\r\n      <ScrollBar />\r\n      <ScrollAreaPrimitive.Corner />\r\n    </ScrollAreaPrimitive.Root>\r\n  );\r\n}\r\n\r\nfunction ScrollBar({\r\n  className,\r\n  orientation = \"vertical\",\r\n  ...props\r\n}: React.ComponentProps<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>) {\r\n  return (\r\n    <ScrollAreaPrimitive.ScrollAreaScrollbar\r\n      data-slot=\"scroll-area-scrollbar\"\r\n      orientation={orientation}\r\n      className={cn(\r\n        \"flex touch-none p-px transition-colors select-none\",\r\n        orientation === \"vertical\" && \"h-full w-2.5 border-l border-l-transparent\",\r\n        orientation === \"horizontal\" && \"h-2.5 flex-col border-t border-t-transparent\",\r\n        className\r\n      )}\r\n      {...props}\r\n    >\r\n      <ScrollAreaPrimitive.ScrollAreaThumb\r\n        data-slot=\"scroll-area-thumb\"\r\n        className=\"bg-border relative flex-1 rounded-full\"\r\n      />\r\n    </ScrollAreaPrimitive.ScrollAreaScrollbar>\r\n  );\r\n}\r\n\r\nexport { ScrollArea, ScrollBar };\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAGA;AALA;;;;AAOA,SAAS,WAAW,EAClB,SAAS,EACT,QAAQ,EACR,GAAG,OACmD;IACtD,qBACE,6LAAC,iOAAmB,CAAC,IAAI;QACvB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,YAAY;QACzB,GAAG,KAAK;;0BAET,6LAAC,iOAAmB,CAAC,QAAQ;gBAC3B,aAAU;gBACV,WAAU;0BAET;;;;;;0BAEH,6LAAC;;;;;0BACD,6LAAC,iOAAmB,CAAC,MAAM;;;;;;;;;;;AAGjC;KArBS;AAuBT,SAAS,UAAU,EACjB,SAAS,EACT,cAAc,UAAU,EACxB,GAAG,OACkE;IACrE,qBACE,6LAAC,iOAAmB,CAAC,mBAAmB;QACtC,aAAU;QACV,aAAa;QACb,WAAW,IAAA,4HAAE,EACX,sDACA,gBAAgB,cAAc,8CAC9B,gBAAgB,gBAAgB,gDAChC;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,iOAAmB,CAAC,eAAe;YAClC,aAAU;YACV,WAAU;;;;;;;;;;;AAIlB;MAvBS"}},
    {"offset": {"line": 4098, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/Navbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { signOut } from \"firebase/auth\";\r\nimport { Bell, Trash2 } from \"lucide-react\"; // Иконка колокольчика\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\"; // Добавили хуки\r\n\r\nimport { toast } from \"sonner\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { ROUTES } from \"@/lib/routes\";\r\nimport { getNotificationText } from \"@/lib/utils\";\r\nimport { NotificationService } from \"@/services/notification.service\";\r\nimport { INotification } from \"@/types/types\";\r\n\r\nimport { LogoTextIcon } from \"./icons/LogoTextIcon\";\r\nimport { MaskotIcon } from \"./icons/MaskotIcon\";\r\nimport { ModeToggle } from \"./ThemeToggle\";\r\nimport { auth } from \"../lib/firebase\";\r\nimport { ScrollArea } from \"./ui/scroll-area\";\r\nimport { SidebarTrigger } from \"./ui/sidebar\";\r\n\r\nfunction Navbar() {\r\n  const { user, loading } = useAuth();\r\n  const router = useRouter();\r\n\r\n  const [notifications, setNotifications] = useState<INotification[]>([]);\r\n  const unreadCount = notifications.filter((n) => !n.read).length;\r\n\r\n  useEffect(() => {\r\n    if (!user?.uid) return;\r\n\r\n    const unsubscribe = NotificationService.subscribeToNotifications(user.uid, (data) => {\r\n      if (notifications.length > 0 && data.length > notifications.length) {\r\n        const newNotify = data[0];\r\n        if (!newNotify.read) {\r\n          toast.info(`${newNotify.issuerName} ${getNotificationText(newNotify.type)}`, {\r\n            description: \"Нажмите, чтобы посмотреть\",\r\n            position: \"top-right\",\r\n            action: {\r\n              label: \"Открыть\",\r\n              onClick: () => handleNotificationClick(newNotify),\r\n            },\r\n          });\r\n        }\r\n      }\r\n      setNotifications(data);\r\n    });\r\n\r\n    return () => unsubscribe();\r\n  }, [user?.uid, notifications.length]);\r\n\r\n  const handleSignOut = async () => {\r\n    try {\r\n      await signOut(auth);\r\n      await fetch(\"/api/auth/logout\", { method: \"POST\" });\r\n      router.refresh();\r\n      router.push(ROUTES.AUTH);\r\n    } catch (error) {\r\n      console.error(\"Ошибка при выходе:\", error);\r\n    }\r\n  };\r\n\r\n  const handleClearAll = async () => {\r\n    if (!user?.uid) return;\r\n    try {\r\n      await NotificationService.clearAllNotifications(user.uid);\r\n      toast.success(\"Уведомления очищены\");\r\n    } catch (_error) {\r\n      toast.error(\"Не удалось очистить уведомления\");\r\n    }\r\n  };\r\n\r\n  const handleNotificationClick = async (notification: INotification) => {\r\n    if (!notification.read) {\r\n      await NotificationService.markAsRead(notification.id);\r\n    }\r\n\r\n    const postUrl = ROUTES.POST(notification.communityName, notification.postSlug);\r\n\r\n    if (notification.commentId) {\r\n      router.push(`${postUrl}?highlight=${notification.commentId}#${notification.commentId}`);\r\n    } else {\r\n      router.push(postUrl);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <nav className=\"h-16 w-full flex items-center border-b px-4 md:px-8 lg:px-14 bg-background/95 backdrop-blur supports-backdrop-filter:bg-background/60 sticky top-0 z-50\">\r\n      <SidebarTrigger className=\"-ml-1 md:hidden\" />\r\n      <div className=\"flex justify-between items-center w-full\">\r\n        <Link href={ROUTES.HOME} className=\"flex items-center gap-x-1 h-full\">\r\n          <MaskotIcon className=\"h-14 w-auto\" />\r\n          <LogoTextIcon className=\"h-14 w-fit hidden lg:block\" />\r\n        </Link>\r\n\r\n        <div className=\"flex items-center gap-x-4\">\r\n          <ModeToggle />\r\n\r\n          <div className=\"flex items-center justify-end gap-x-2\">\r\n            {loading ? (\r\n              <Skeleton className=\"h-9 w-24 rounded-md\" />\r\n            ) : user ? (\r\n              <>\r\n                <DropdownMenu>\r\n                  <DropdownMenuTrigger asChild>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"icon\"\r\n                      className=\"relative rounded-full cursor-pointer\"\r\n                    >\r\n                      <Bell className=\"h-5 w-5\" />\r\n                      {unreadCount > 0 && (\r\n                        <span className=\"absolute top-1 right-1 flex h-4 w-4 items-center justify-center rounded-full bg-destructive text-[10px] font-bold text-white\">\r\n                          {unreadCount > 9 ? \"9+\" : unreadCount}\r\n                        </span>\r\n                      )}\r\n                    </Button>\r\n                  </DropdownMenuTrigger>\r\n                  <DropdownMenuContent className=\"w-80\" align=\"end\">\r\n                    <DropdownMenuLabel className=\"flex justify-between items-center\">\r\n                      Уведомления\r\n                      {unreadCount > 0 && (\r\n                        <span className=\"text-[10px] bg-primary/10 text-primary px-2 py-0.5 rounded-full\">\r\n                          {unreadCount} новых\r\n                        </span>\r\n                      )}\r\n                      {notifications.length > 0 && (\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          className=\"cursor-pointer h-7 text-[11px] text-muted-foreground hover:text-destructive\"\r\n                          onClick={handleClearAll}\r\n                        >\r\n                          <Trash2 className=\"h-3 w-3 mr-1\" />\r\n                          Очистить всё\r\n                        </Button>\r\n                      )}\r\n                    </DropdownMenuLabel>\r\n                    <DropdownMenuSeparator />\r\n                    <ScrollArea className=\"h-[300px]\">\r\n                      {notifications.length > 0 ? (\r\n                        notifications.map((n) => (\r\n                          <DropdownMenuItem\r\n                            key={n.id}\r\n                            className={`flex flex-col items-start gap-1 p-3 cursor-pointer focus:bg-muted ${!n.read ? \"bg-primary/5\" : \"\"}`}\r\n                            onClick={() => handleNotificationClick(n)}\r\n                          >\r\n                            <div className=\"flex items-center gap-2 w-full\">\r\n                              <span className=\"font-bold text-xs\">{n.issuerName}</span>\r\n                              <span className=\"text-xs text-muted-foreground\">\r\n                                {getNotificationText(n.type)}\r\n                              </span>\r\n                            </div>\r\n                            <span className=\"text-[10px] text-muted-foreground uppercase\">\r\n                              недавно\r\n                            </span>\r\n                          </DropdownMenuItem>\r\n                        ))\r\n                      ) : (\r\n                        <div className=\"p-4 text-center text-sm text-muted-foreground\">\r\n                          У вас пока нет уведомлений\r\n                        </div>\r\n                      )}\r\n                    </ScrollArea>\r\n                  </DropdownMenuContent>\r\n                </DropdownMenu>\r\n\r\n                <DropdownMenu>\r\n                  <DropdownMenuTrigger asChild>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      className=\"relative h-10 w-10 rounded-full cursor-pointer focus-visible:ring-0 focus-visible:ring-offset-0\"\r\n                    >\r\n                      <Avatar className=\"h-9 w-9 border border-primary/20 transition-transform hover:scale-105\">\r\n                        <AvatarImage src={user.photoURL || \"\"} alt={user.displayName || \"User\"} />\r\n                        <AvatarFallback className=\"bg-primary/10 text-primary\">\r\n                          {user.displayName?.charAt(0) || user.email?.charAt(0)}\r\n                        </AvatarFallback>\r\n                      </Avatar>\r\n                    </Button>\r\n                  </DropdownMenuTrigger>\r\n                  <DropdownMenuContent className=\"w-56\" align=\"end\" forceMount>\r\n                    <DropdownMenuLabel className=\"font-normal\">\r\n                      <div className=\"flex flex-col space-y-1\">\r\n                        <p className=\"text-sm font-medium leading-none\">\r\n                          {user.displayName || \"Пользователь\"}\r\n                        </p>\r\n                        <p className=\"text-xs leading-none text-muted-foreground truncate\">\r\n                          {user.email}\r\n                        </p>\r\n                      </div>\r\n                    </DropdownMenuLabel>\r\n                    <DropdownMenuSeparator />\r\n                    <DropdownMenuItem asChild className=\"cursor-pointer\">\r\n                      <Link href={ROUTES.SETTINGS}>Настройки</Link>\r\n                    </DropdownMenuItem>\r\n                    <DropdownMenuSeparator />\r\n                    <DropdownMenuItem\r\n                      className=\"text-destructive cursor-pointer focus:bg-destructive/10\"\r\n                      onClick={handleSignOut}\r\n                    >\r\n                      Выйти\r\n                    </DropdownMenuItem>\r\n                  </DropdownMenuContent>\r\n                </DropdownMenu>\r\n              </>\r\n            ) : (\r\n              <div className=\"flex items-center gap-x-2\">\r\n                <Link href={`${ROUTES.AUTH}?mode=register`}>\r\n                  <Button variant=\"ghost\" size=\"sm\" className=\"cursor-pointer\">\r\n                    Регистрация\r\n                  </Button>\r\n                </Link>\r\n                <Link href={`${ROUTES.AUTH}?mode=login`}>\r\n                  <Button size=\"sm\" className=\"cursor-pointer\">\r\n                    Войти\r\n                  </Button>\r\n                </Link>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4636, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/theme-provider.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\r\nimport * as React from \"react\";\r\n\r\nexport function ThemeProvider({\r\n  children,\r\n  ...props\r\n}: React.ComponentProps<typeof NextThemesProvider>) {\r\n  return <NextThemesProvider {...props}>{children}</NextThemesProvider>;\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAKO,SAAS,cAAc,EAC5B,QAAQ,EACR,GAAG,OAC6C;IAChD,qBAAO,6LAAC,oKAAkB;QAAE,GAAG,KAAK;kBAAG;;;;;;AACzC;KALgB"}}]
}