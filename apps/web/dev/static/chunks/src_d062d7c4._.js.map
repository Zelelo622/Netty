{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/LoadingListVirtualizer.tsx"],"sourcesContent":["import { Loader2 } from \"lucide-react\";\r\n\r\nimport { IPost } from \"@/types/types\";\r\n\r\ninterface ILoadingListVirtualizerProps {\r\n  isFetchingMore: boolean;\r\n  hasMore: boolean;\r\n  posts: IPost[];\r\n  textEnd?: string;\r\n  textLoading?: string;\r\n}\r\n\r\nexport const LoadingListVirtualizer = ({\r\n  isFetchingMore,\r\n  hasMore,\r\n  posts,\r\n  textEnd,\r\n  textLoading,\r\n}: ILoadingListVirtualizerProps) => {\r\n  return (\r\n    <>\r\n      {isFetchingMore ? (\r\n        <div className=\"flex flex-col items-center gap-2\">\r\n          <Loader2 className=\"h-6 w-6 animate-spin text-primary\" />\r\n          <span className=\"text-[10px] text-muted-foreground animate-pulse\">\r\n            {textLoading || \"ЗАГРУЗКА...\"}\r\n          </span>\r\n        </div>\r\n      ) : !hasMore && posts.length > 0 ? (\r\n        <p className=\"text-center text-[10px] text-muted-foreground/40 uppercase tracking-[0.3em]\">\r\n          {textEnd || \"Вы просмотрели все публикации\"}\r\n        </p>\r\n      ) : null}\r\n    </>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAYO,MAAM,yBAAyB,CAAC,EACrC,cAAc,EACd,OAAO,EACP,KAAK,EACL,OAAO,EACP,WAAW,EACkB;IAC7B,qBACE;kBACG,+BACC,6LAAC;YAAI,WAAU;;8BACb,6LAAC,+NAAO;oBAAC,WAAU;;;;;;8BACnB,6LAAC;oBAAK,WAAU;8BACb,eAAe;;;;;;;;;;;uDAGlB,CAAC,WAAW,MAAM,MAAM,GAAG,kBAC7B,6LAAC;YAAE,WAAU;sBACV,WAAW;;;;;uDAEZ;;AAGV;KAvBa"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { Tabs as TabsPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Tabs({\r\n  className,\r\n  orientation = \"horizontal\",\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\r\n  return (\r\n    <TabsPrimitive.Root\r\n      data-slot=\"tabs\"\r\n      data-orientation={orientation}\r\n      orientation={orientation}\r\n      className={cn(\"group/tabs flex gap-2 data-[orientation=horizontal]:flex-col\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nconst tabsListVariants = cva(\r\n  \"rounded-lg p-[3px] group-data-[orientation=horizontal]/tabs:h-9 data-[variant=line]:rounded-none group/tabs-list text-muted-foreground inline-flex w-fit items-center justify-center group-data-[orientation=vertical]/tabs:h-fit group-data-[orientation=vertical]/tabs:flex-col\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-muted\",\r\n        line: \"gap-1 bg-transparent\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nfunction TabsList({\r\n  className,\r\n  variant = \"default\",\r\n  ...props\r\n}: React.ComponentProps<typeof TabsPrimitive.List> & VariantProps<typeof tabsListVariants>) {\r\n  return (\r\n    <TabsPrimitive.List\r\n      data-slot=\"tabs-list\"\r\n      data-variant={variant}\r\n      className={cn(tabsListVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction TabsTrigger({ className, ...props }: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\r\n  return (\r\n    <TabsPrimitive.Trigger\r\n      data-slot=\"tabs-trigger\"\r\n      className={cn(\r\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring text-foreground/60 hover:text-foreground dark:text-muted-foreground dark:hover:text-foreground relative inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-all group-data-[orientation=vertical]/tabs:w-full group-data-[orientation=vertical]/tabs:justify-start focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 group-data-[variant=default]/tabs-list:data-[state=active]:shadow-sm group-data-[variant=line]/tabs-list:data-[state=active]:shadow-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\r\n        \"group-data-[variant=line]/tabs-list:bg-transparent group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:border-transparent dark:group-data-[variant=line]/tabs-list:data-[state=active]:bg-transparent\",\r\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 data-[state=active]:text-foreground\",\r\n        \"after:bg-foreground after:absolute after:opacity-0 after:transition-opacity group-data-[orientation=horizontal]/tabs:after:inset-x-0 group-data-[orientation=horizontal]/tabs:after:bottom-[-5px] group-data-[orientation=horizontal]/tabs:after:h-0.5 group-data-[orientation=vertical]/tabs:after:inset-y-0 group-data-[orientation=vertical]/tabs:after:-right-1 group-data-[orientation=vertical]/tabs:after:w-0.5 group-data-[variant=line]/tabs-list:data-[state=active]:after:opacity-100\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction TabsContent({ className, ...props }: React.ComponentProps<typeof TabsPrimitive.Content>) {\r\n  return (\r\n    <TabsPrimitive.Content\r\n      data-slot=\"tabs-content\"\r\n      className={cn(\"flex-1 outline-none\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Tabs, TabsList, TabsTrigger, TabsContent, tabsListVariants };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AACA;AAGA;AANA;;;;;AAQA,SAAS,KAAK,EACZ,SAAS,EACT,cAAc,YAAY,EAC1B,GAAG,OAC6C;IAChD,qBACE,6LAAC,2MAAa,CAAC,IAAI;QACjB,aAAU;QACV,oBAAkB;QAClB,aAAa;QACb,WAAW,IAAA,4HAAE,EAAC,gEAAgE;QAC7E,GAAG,KAAK;;;;;;AAGf;KAdS;AAgBT,MAAM,mBAAmB,IAAA,0KAAG,EAC1B,qRACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,SAAS,EACnB,GAAG,OACqF;IACxF,qBACE,6LAAC,2MAAa,CAAC,IAAI;QACjB,aAAU;QACV,gBAAc;QACd,WAAW,IAAA,4HAAE,EAAC,iBAAiB;YAAE;QAAQ,IAAI;QAC5C,GAAG,KAAK;;;;;;AAGf;MAbS;AAeT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAA2D;IAC9F,qBACE,6LAAC,2MAAa,CAAC,OAAO;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,ywBACA,yRACA,6LACA,oeACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAA2D;IAC9F,qBACE,6LAAC,2MAAa,CAAC,OAAO;QACpB,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 155, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/alert-dialog.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { AlertDialog as AlertDialogPrimitive } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction AlertDialog({ ...props }: React.ComponentProps<typeof AlertDialogPrimitive.Root>) {\r\n  return <AlertDialogPrimitive.Root data-slot=\"alert-dialog\" {...props} />;\r\n}\r\n\r\nfunction AlertDialogTrigger({\r\n  ...props\r\n}: React.ComponentProps<typeof AlertDialogPrimitive.Trigger>) {\r\n  return <AlertDialogPrimitive.Trigger data-slot=\"alert-dialog-trigger\" {...props} />;\r\n}\r\n\r\nfunction AlertDialogPortal({ ...props }: React.ComponentProps<typeof AlertDialogPrimitive.Portal>) {\r\n  return <AlertDialogPrimitive.Portal data-slot=\"alert-dialog-portal\" {...props} />;\r\n}\r\n\r\nfunction AlertDialogOverlay({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AlertDialogPrimitive.Overlay>) {\r\n  return (\r\n    <AlertDialogPrimitive.Overlay\r\n      data-slot=\"alert-dialog-overlay\"\r\n      className={cn(\r\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AlertDialogContent({\r\n  className,\r\n  size = \"default\",\r\n  ...props\r\n}: React.ComponentProps<typeof AlertDialogPrimitive.Content> & {\r\n  size?: \"default\" | \"sm\";\r\n}) {\r\n  return (\r\n    <AlertDialogPortal>\r\n      <AlertDialogOverlay />\r\n      <AlertDialogPrimitive.Content\r\n        data-slot=\"alert-dialog-content\"\r\n        data-size={size}\r\n        className={cn(\r\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 group/alert-dialog-content fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 data-[size=sm]:max-w-xs data-[size=default]:sm:max-w-lg\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n    </AlertDialogPortal>\r\n  );\r\n}\r\n\r\nfunction AlertDialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"alert-dialog-header\"\r\n      className={cn(\r\n        \"grid grid-rows-[auto_1fr] place-items-center gap-1.5 text-center has-data-[slot=alert-dialog-media]:grid-rows-[auto_auto_1fr] has-data-[slot=alert-dialog-media]:gap-x-6 sm:group-data-[size=default]/alert-dialog-content:place-items-start sm:group-data-[size=default]/alert-dialog-content:text-left sm:group-data-[size=default]/alert-dialog-content:has-data-[slot=alert-dialog-media]:grid-rows-[auto_1fr]\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AlertDialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"alert-dialog-footer\"\r\n      className={cn(\r\n        \"flex flex-col-reverse gap-2 group-data-[size=sm]/alert-dialog-content:grid group-data-[size=sm]/alert-dialog-content:grid-cols-2 sm:flex-row sm:justify-end\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AlertDialogTitle({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AlertDialogPrimitive.Title>) {\r\n  return (\r\n    <AlertDialogPrimitive.Title\r\n      data-slot=\"alert-dialog-title\"\r\n      className={cn(\r\n        \"text-lg font-semibold sm:group-data-[size=default]/alert-dialog-content:group-has-data-[slot=alert-dialog-media]/alert-dialog-content:col-start-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AlertDialogDescription({\r\n  className,\r\n  ...props\r\n}: React.ComponentProps<typeof AlertDialogPrimitive.Description>) {\r\n  return (\r\n    <AlertDialogPrimitive.Description\r\n      data-slot=\"alert-dialog-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AlertDialogMedia({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"alert-dialog-media\"\r\n      className={cn(\r\n        \"bg-muted mb-2 inline-flex size-16 items-center justify-center rounded-md sm:group-data-[size=default]/alert-dialog-content:row-span-2 *:[svg:not([class*='size-'])]:size-8\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction AlertDialogAction({\r\n  className,\r\n  variant = \"default\",\r\n  size = \"default\",\r\n  ...props\r\n}: React.ComponentProps<typeof AlertDialogPrimitive.Action> &\r\n  Pick<React.ComponentProps<typeof Button>, \"variant\" | \"size\">) {\r\n  return (\r\n    <Button variant={variant} size={size} asChild>\r\n      <AlertDialogPrimitive.Action\r\n        data-slot=\"alert-dialog-action\"\r\n        className={cn(className)}\r\n        {...props}\r\n      />\r\n    </Button>\r\n  );\r\n}\r\n\r\nfunction AlertDialogCancel({\r\n  className,\r\n  variant = \"outline\",\r\n  size = \"default\",\r\n  ...props\r\n}: React.ComponentProps<typeof AlertDialogPrimitive.Cancel> &\r\n  Pick<React.ComponentProps<typeof Button>, \"variant\" | \"size\">) {\r\n  return (\r\n    <Button variant={variant} size={size} asChild>\r\n      <AlertDialogPrimitive.Cancel\r\n        data-slot=\"alert-dialog-cancel\"\r\n        className={cn(className)}\r\n        {...props}\r\n      />\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogMedia,\r\n  AlertDialogOverlay,\r\n  AlertDialogPortal,\r\n  AlertDialogTitle,\r\n  AlertDialogTrigger,\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AAGA;AACA;AANA;;;;;AAQA,SAAS,YAAY,EAAE,GAAG,OAA+D;IACvF,qBAAO,6LAAC,oOAAoB,CAAC,IAAI;QAAC,aAAU;QAAgB,GAAG,KAAK;;;;;;AACtE;KAFS;AAIT,SAAS,mBAAmB,EAC1B,GAAG,OACuD;IAC1D,qBAAO,6LAAC,oOAAoB,CAAC,OAAO;QAAC,aAAU;QAAwB,GAAG,KAAK;;;;;;AACjF;MAJS;AAMT,SAAS,kBAAkB,EAAE,GAAG,OAAiE;IAC/F,qBAAO,6LAAC,oOAAoB,CAAC,MAAM;QAAC,aAAU;QAAuB,GAAG,KAAK;;;;;;AAC/E;MAFS;AAIT,SAAS,mBAAmB,EAC1B,SAAS,EACT,GAAG,OACuD;IAC1D,qBACE,6LAAC,oOAAoB,CAAC,OAAO;QAC3B,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,mBAAmB,EAC1B,SAAS,EACT,OAAO,SAAS,EAChB,GAAG,OAGJ;IACC,qBACE,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,oOAAoB,CAAC,OAAO;gBAC3B,aAAU;gBACV,aAAW;gBACX,WAAW,IAAA,4HAAE,EACX,sbACA;gBAED,GAAG,KAAK;;;;;;;;;;;;AAIjB;MArBS;AAuBT,SAAS,kBAAkB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC7E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,sZACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC7E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,+JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EACxB,SAAS,EACT,GAAG,OACqD;IACxD,qBACE,6LAAC,oOAAoB,CAAC,KAAK;QACzB,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,qJACA;QAED,GAAG,KAAK;;;;;;AAGf;MAdS;AAgBT,SAAS,uBAAuB,EAC9B,SAAS,EACT,GAAG,OAC2D;IAC9D,qBACE,6LAAC,oOAAoB,CAAC,WAAW;QAC/B,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,iBAAiB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC5E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,8KACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,kBAAkB,EACzB,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,GAAG,OAE0D;IAC7D,qBACE,6LAAC,+IAAM;QAAC,SAAS;QAAS,MAAM;QAAM,OAAO;kBAC3C,cAAA,6LAAC,oOAAoB,CAAC,MAAM;YAC1B,aAAU;YACV,WAAW,IAAA,4HAAE,EAAC;YACb,GAAG,KAAK;;;;;;;;;;;AAIjB;OAhBS;AAkBT,SAAS,kBAAkB,EACzB,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,GAAG,OAE0D;IAC7D,qBACE,6LAAC,+IAAM;QAAC,SAAS;QAAS,MAAM;QAAM,OAAO;kBAC3C,cAAA,6LAAC,oOAAoB,CAAC,MAAM;YAC1B,aAAU;YACV,WAAW,IAAA,4HAAE,EAAC;YACb,GAAG,KAAK;;;;;;;;;;;AAIjB;OAhBS"}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/DeletePostModal.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  AlertDialog,\r\n  AlertDialogAction,\r\n  AlertDialogCancel,\r\n  AlertDialogContent,\r\n  AlertDialogDescription,\r\n  AlertDialogFooter,\r\n  AlertDialogHeader,\r\n  AlertDialogTitle,\r\n} from \"@/components/ui/alert-dialog\";\r\n\r\ninterface DeletePostModalProps {\r\n  open: boolean;\r\n  onOpenChange: (open: boolean) => void;\r\n  onConfirm: () => void;\r\n  isLoading?: boolean;\r\n  title?: string;\r\n}\r\n\r\nexport const DeletePostModal = ({\r\n  open,\r\n  onOpenChange,\r\n  onConfirm,\r\n  isLoading,\r\n  title = \"этот пост\",\r\n}: DeletePostModalProps) => {\r\n  return (\r\n    <AlertDialog open={open} onOpenChange={onOpenChange}>\r\n      <AlertDialogContent className=\"rounded-2xl\">\r\n        <AlertDialogHeader>\r\n          <AlertDialogTitle>Вы уверены?</AlertDialogTitle>\r\n          <AlertDialogDescription>\r\n            {title === \"этот пост\"\r\n              ? \"Пост будет удален навсегда. Это действие нельзя отменить.\"\r\n              : `Пост «${title}» будет удален навсегда. Вы уверены?`}\r\n          </AlertDialogDescription>\r\n        </AlertDialogHeader>\r\n        <AlertDialogFooter>\r\n          <AlertDialogCancel className=\"cursor-pointer rounded-xl\">Отмена</AlertDialogCancel>\r\n          <AlertDialogAction\r\n            onClick={(e) => {\r\n              e.preventDefault();\r\n              onConfirm();\r\n            }}\r\n            disabled={isLoading}\r\n            className=\"cursor-pointer bg-destructive hover:bg-destructive/90 rounded-xl min-w-[100px]\"\r\n          >\r\n            {isLoading ? \"Удаление...\" : \"Да, удалить\"}\r\n          </AlertDialogAction>\r\n        </AlertDialogFooter>\r\n      </AlertDialogContent>\r\n    </AlertDialog>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAqBO,MAAM,kBAAkB,CAAC,EAC9B,IAAI,EACJ,YAAY,EACZ,SAAS,EACT,SAAS,EACT,QAAQ,WAAW,EACE;IACrB,qBACE,6LAAC,6JAAW;QAAC,MAAM;QAAM,cAAc;kBACrC,cAAA,6LAAC,oKAAkB;YAAC,WAAU;;8BAC5B,6LAAC,mKAAiB;;sCAChB,6LAAC,kKAAgB;sCAAC;;;;;;sCAClB,6LAAC,wKAAsB;sCACpB,UAAU,cACP,8DACA,CAAC,MAAM,EAAE,MAAM,oCAAoC,CAAC;;;;;;;;;;;;8BAG5D,6LAAC,mKAAiB;;sCAChB,6LAAC,mKAAiB;4BAAC,WAAU;sCAA4B;;;;;;sCACzD,6LAAC,mKAAiB;4BAChB,SAAS,CAAC;gCACR,EAAE,cAAc;gCAChB;4BACF;4BACA,UAAU;4BACV,WAAU;sCAET,YAAY,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;AAMzC;KAlCa"}},
    {"offset": {"line": 473, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/badge.tsx"],"sourcesContent":["import { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { Slot } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst badgeVariants = cva(\r\n  \"inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\r\n        secondary: \"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n        ghost: \"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 [a&]:hover:underline\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nfunction Badge({\r\n  className,\r\n  variant = \"default\",\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"span\"> & VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\r\n  const Comp = asChild ? Slot.Root : \"span\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"badge\"\r\n      data-variant={variant}\r\n      className={cn(badgeVariants({ variant }), className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Badge, badgeVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAGA;;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,uaACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aACE;YACF,SACE;YACF,OAAO;YACP,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,UAAU,SAAS,EACnB,UAAU,KAAK,EACf,GAAG,OACuF;IAC1F,MAAM,OAAO,UAAU,2MAAI,CAAC,IAAI,GAAG;IAEnC,qBACE,6LAAC;QACC,aAAU;QACV,gBAAc;QACd,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;KAhBS"}},
    {"offset": {"line": 528, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\"col-start-2 row-span-2 row-start-1 self-start justify-self-end\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return <div data-slot=\"card-content\" className={cn(\"px-6\", className)} {...props} />;\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Card, CardHeader, CardFooter, CardTitle, CardAction, CardDescription, CardContent };\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;KAXS;AAaT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;MAXS;AAaT,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,kEAAkE;QAC/E,GAAG,KAAK;;;;;;AAGf;MARS;AAUT,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBAAO,6LAAC;QAAI,aAAU;QAAe,WAAW,IAAA,4HAAE,EAAC,QAAQ;QAAa,GAAG,KAAK;;;;;;AAClF;MAFS;AAIT,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6LAAC;QACC,aAAU;QACV,WAAW,IAAA,4HAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf;MARS"}},
    {"offset": {"line": 648, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/lib/constants.ts"],"sourcesContent":["export const POST_FLAIRS = [\r\n  {\r\n    id: \"serious\",\r\n    label: \"Только серьезные ответы\",\r\n    color: \"bg-red-500\",\r\n    textColor: \"text-white\",\r\n  },\r\n  {\r\n    id: \"question\",\r\n    label: \"Вопрос\",\r\n    color: \"bg-blue-500\",\r\n    textColor: \"text-white\",\r\n  },\r\n  { id: \"meme\", label: \"Мем\", color: \"bg-purple-500\", textColor: \"text-white\" },\r\n  {\r\n    id: \"oc\",\r\n    label: \"Авторский контент\",\r\n    color: \"bg-yellow-500\",\r\n    textColor: \"text-black\",\r\n  },\r\n] as const;\r\n\r\nexport type FlairId = (typeof POST_FLAIRS)[number][\"id\"];\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,cAAc;IACzB;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,WAAW;IACb;IACA;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,WAAW;IACb;IACA;QAAE,IAAI;QAAQ,OAAO;QAAO,OAAO;QAAiB,WAAW;IAAa;IAC5E;QACE,IAAI;QACJ,OAAO;QACP,OAAO;QACP,WAAW;IACb;CACD"}},
    {"offset": {"line": 685, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/features/posts/components/PostActions.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { MessageSquare, Share2 } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ninterface IPostActionsProps {\r\n  commentsCount: number;\r\n  shareUrl: string;\r\n  commentUrl?: string;\r\n  title: string;\r\n}\r\n\r\nexport const PostActions = ({ commentsCount, shareUrl, title }: IPostActionsProps) => {\r\n  const handleShare = async (e: React.MouseEvent) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n\r\n    try {\r\n      if (navigator.share) {\r\n        await navigator.share({ title, url: shareUrl });\r\n      } else {\r\n        await navigator.clipboard.writeText(shareUrl);\r\n        toast.success(\"Ссылка скопирована!\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center gap-2\">\r\n      <div className=\"flex items-center h-8 px-2.5 gap-1.5 text-muted-foreground/70 select-none\">\r\n        <MessageSquare className=\"h-4 w-4\" />\r\n        <span className=\"text-xs font-medium\">{commentsCount}</span>\r\n      </div>\r\n\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"sm\"\r\n        onClick={handleShare}\r\n        className=\"cursor-pointer h-9 w-9 p-0 text-muted-foreground hover:bg-muted rounded-full\"\r\n      >\r\n        <Share2 className=\"h-4 w-4\" />\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAEA;AALA;;;;;AAcO,MAAM,cAAc,CAAC,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAqB;IAC/E,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,EAAE,eAAe;QAEjB,IAAI;YACF,IAAI,UAAU,KAAK,EAAE;gBACnB,MAAM,UAAU,KAAK,CAAC;oBAAE;oBAAO,KAAK;gBAAS;YAC/C,OAAO;gBACL,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC;gBACpC,oJAAK,CAAC,OAAO,CAAC;YAChB;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC;QAChB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,4OAAa;wBAAC,WAAU;;;;;;kCACzB,6LAAC;wBAAK,WAAU;kCAAuB;;;;;;;;;;;;0BAGzC,6LAAC,+IAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,SAAS;gBACT,WAAU;0BAEV,cAAA,6LAAC,uNAAM;oBAAC,WAAU;;;;;;;;;;;;;;;;;AAI1B;KAlCa"}},
    {"offset": {"line": 778, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/features/posts/components/PostVote.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { ArrowBigUp, ArrowBigDown } from \"lucide-react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { PostsService } from \"@/services/posts.service\";\r\n\r\ninterface PostVoteProps {\r\n  postId: string;\r\n  initialVotes: number;\r\n  orientation?: \"vertical\" | \"horizontal\";\r\n}\r\n\r\nexport const PostVote = ({ postId, initialVotes, orientation = \"horizontal\" }: PostVoteProps) => {\r\n  const { user } = useAuth();\r\n  const [currentVote, setCurrentVote] = useState<number>(0);\r\n  const [displayVotes, setDisplayVotes] = useState(initialVotes);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      PostsService.getUserVoteStatus(postId, user.uid).then(setCurrentVote);\r\n    }\r\n  }, [user, postId]);\r\n\r\n  const handleVote = async (newValue: number) => {\r\n    if (!user) return toast.info(\"Войдите, чтобы голосовать\");\r\n\r\n    const finalValue = currentVote === newValue ? 0 : newValue;\r\n    const voteDiff = finalValue - currentVote;\r\n\r\n    setCurrentVote(finalValue);\r\n    setDisplayVotes((prev) => prev + voteDiff);\r\n\r\n    try {\r\n      await PostsService.votePost(postId, user.uid, finalValue as 1 | -1 | 0, currentVote);\r\n    } catch (_error) {\r\n      setCurrentVote(currentVote);\r\n      setDisplayVotes((prev) => prev - voteDiff);\r\n      toast.error(\"Не удалось сохранить голос\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex items-center gap-1 rounded-full bg-muted/40 p-1 border\",\r\n        orientation === \"vertical\" ? \"flex-col\" : \"flex-row\",\r\n        currentVote === 1 && \"bg-blue-500/10 border-blue-500/20\",\r\n        currentVote === -1 && \"bg-pink-500/10 border-pink-500/20\"\r\n      )}\r\n    >\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"sm\"\r\n        className={cn(\r\n          \"cursor-pointer h-8 w-8 p-0 rounded-full hover:bg-transparent\",\r\n          currentVote === 1 ? \"text-blue-500\" : \"text-muted-foreground hover:text-blue-500\"\r\n        )}\r\n        onClick={() => handleVote(1)}\r\n      >\r\n        <ArrowBigUp className={cn(\"h-5 w-5\", currentVote === 1 && \"fill-current\")} />\r\n      </Button>\r\n\r\n      <span\r\n        className={cn(\r\n          \"text-xs font-black min-w-5 text-center\",\r\n          currentVote === 1 && \"text-blue-500\",\r\n          currentVote === -1 && \"text-pink-500\",\r\n          currentVote === 0 && \"text-muted-foreground\"\r\n        )}\r\n      >\r\n        {displayVotes}\r\n      </span>\r\n\r\n      <Button\r\n        variant=\"ghost\"\r\n        size=\"sm\"\r\n        className={cn(\r\n          \"cursor-pointer h-8 w-8 p-0 rounded-full hover:bg-transparent\",\r\n          currentVote === -1 ? \"text-pink-500\" : \"text-muted-foreground hover:text-pink-500\"\r\n        )}\r\n        onClick={() => handleVote(-1)}\r\n      >\r\n        <ArrowBigDown className={cn(\"h-5 w-5\", currentVote === -1 && \"fill-current\")} />\r\n      </Button>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;;;AATA;;;;;;;;AAiBO,MAAM,WAAW,CAAC,EAAE,MAAM,EAAE,YAAY,EAAE,cAAc,YAAY,EAAiB;;IAC1F,MAAM,EAAE,IAAI,EAAE,GAAG,IAAA,4IAAO;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAS;IACvD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAC;IAEjD,IAAA,0KAAS;8BAAC;YACR,IAAI,MAAM;gBACR,sJAAY,CAAC,iBAAiB,CAAC,QAAQ,KAAK,GAAG,EAAE,IAAI,CAAC;YACxD;QACF;6BAAG;QAAC;QAAM;KAAO;IAEjB,MAAM,aAAa,OAAO;QACxB,IAAI,CAAC,MAAM,OAAO,oJAAK,CAAC,IAAI,CAAC;QAE7B,MAAM,aAAa,gBAAgB,WAAW,IAAI;QAClD,MAAM,WAAW,aAAa;QAE9B,eAAe;QACf,gBAAgB,CAAC,OAAS,OAAO;QAEjC,IAAI;YACF,MAAM,sJAAY,CAAC,QAAQ,CAAC,QAAQ,KAAK,GAAG,EAAE,YAA0B;QAC1E,EAAE,OAAO,QAAQ;YACf,eAAe;YACf,gBAAgB,CAAC,OAAS,OAAO;YACjC,oJAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,+DACA,gBAAgB,aAAa,aAAa,YAC1C,gBAAgB,KAAK,qCACrB,gBAAgB,CAAC,KAAK;;0BAGxB,6LAAC,+IAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,WAAW,IAAA,4HAAE,EACX,gEACA,gBAAgB,IAAI,kBAAkB;gBAExC,SAAS,IAAM,WAAW;0BAE1B,cAAA,6LAAC,uOAAU;oBAAC,WAAW,IAAA,4HAAE,EAAC,WAAW,gBAAgB,KAAK;;;;;;;;;;;0BAG5D,6LAAC;gBACC,WAAW,IAAA,4HAAE,EACX,0CACA,gBAAgB,KAAK,iBACrB,gBAAgB,CAAC,KAAK,iBACtB,gBAAgB,KAAK;0BAGtB;;;;;;0BAGH,6LAAC,+IAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,WAAW,IAAA,4HAAE,EACX,gEACA,gBAAgB,CAAC,IAAI,kBAAkB;gBAEzC,SAAS,IAAM,WAAW,CAAC;0BAE3B,cAAA,6LAAC,6OAAY;oBAAC,WAAW,IAAA,4HAAE,EAAC,WAAW,gBAAgB,CAAC,KAAK;;;;;;;;;;;;;;;;;AAIrE;GA1Ea;;QACM,4IAAO;;;KADb"}},
    {"offset": {"line": 897, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/features/posts/components/PostCard.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Languages, MoreHorizontal, Trash2 } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport { DeletePostModal } from \"@/components/DeletePostModal\";\r\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport {\r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuTrigger,\r\n} from \"@/components/ui/dropdown-menu\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { POST_FLAIRS } from \"@/lib/constants\";\r\nimport { ROUTES } from \"@/lib/routes\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { PostsService } from \"@/services/posts.service\";\r\n\r\nimport { PostActions } from \"./PostActions\";\r\nimport { PostVote } from \"./PostVote\";\r\nimport { IPostCardProps } from \"./types\";\r\n\r\nexport const PostCard = ({ post }: IPostCardProps) => {\r\n  const { user } = useAuth();\r\n  const router = useRouter();\r\n  const isAuthor = user?.uid === post.authorId;\r\n\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\r\n\r\n  const flair = POST_FLAIRS.find((f) => post.tags?.includes(f.id));\r\n\r\n  const formattedDate = post.createdAt?.seconds\r\n    ? new Date(post.createdAt.seconds * 1000).toLocaleDateString(\"ru-RU\", {\r\n        day: \"numeric\",\r\n        month: \"short\",\r\n      })\r\n    : \"Только что\";\r\n\r\n  const handleDelete = async () => {\r\n    setIsDeleting(true);\r\n    try {\r\n      await PostsService.deletePost(post.id);\r\n      toast.success(\"Пост успешно удален\");\r\n      router.refresh();\r\n    } catch (_error) {\r\n      toast.error(\"Ошибка при удалении\");\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Card className=\"hover:border-primary/20 transition-colors gap-3\">\r\n        <div className=\"px-4 sm:px-6\">\r\n          <div className=\"flex items-center gap-2 mb-3\">\r\n            <Avatar className=\"h-6 w-6\">\r\n              <AvatarImage src={post.authorImage} />\r\n              <AvatarFallback>{post.authorName[0]}</AvatarFallback>\r\n            </Avatar>\r\n            <div className=\"flex flex-wrap items-center gap-x-2 text-[10px] sm:text-xs\">\r\n              <Link\r\n                href={ROUTES.COMMUNITY(post.communityName)}\r\n                className=\"font-bold hover:underline cursor-pointer text-foreground\"\r\n              >\r\n                n/{post.communityName}\r\n              </Link>\r\n              <span className=\"text-muted-foreground\">•</span>\r\n              <span className=\"text-muted-foreground\">u/{post.authorName}</span>\r\n              <span className=\"text-muted-foreground\">{formattedDate}</span>\r\n            </div>\r\n            <div className=\"ml-auto\">\r\n              <DropdownMenu>\r\n                <DropdownMenuTrigger asChild>\r\n                  <Button\r\n                    variant=\"ghost\"\r\n                    size=\"icon\"\r\n                    className=\"cursor-pointer h-8 w-8 text-muted-foreground outline-none\"\r\n                  >\r\n                    <MoreHorizontal className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </DropdownMenuTrigger>\r\n                <DropdownMenuContent align=\"end\" className=\"w-56\">\r\n                  <DropdownMenuItem\r\n                    disabled\r\n                    className=\"cursor-pointer gap-2\"\r\n                    onClick={() => alert(\"Перевод в разработке...\")}\r\n                  >\r\n                    <Languages className=\"h-4 w-4\" />\r\n                    <span>Показать на другом языке</span>\r\n                  </DropdownMenuItem>\r\n                  {isAuthor && (\r\n                    <>\r\n                      <Separator className=\"my-1\" />\r\n                      <DropdownMenuItem\r\n                        className=\"cursor-pointer gap-2 text-destructive focus:text-destructive focus:bg-destructive/10\"\r\n                        onSelect={() => setShowDeleteModal(true)}\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                        <span>Удалить пост</span>\r\n                      </DropdownMenuItem>\r\n                    </>\r\n                  )}\r\n                </DropdownMenuContent>\r\n              </DropdownMenu>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"space-y-2\">\r\n            <Link href={ROUTES.POST(post.communityName, post.slug)} className=\"group block\">\r\n              <h2 className=\"mb-2 text-lg font-bold leading-tight sm:text-2xl group-hover:text-primary transition-colors line-clamp-2\">\r\n                {post.title}\r\n              </h2>\r\n            </Link>\r\n            {flair && (\r\n              <Badge\r\n                className={cn(\r\n                  \"shrink-0 whitespace-nowrap rounded-md\",\r\n                  flair.color,\r\n                  flair.textColor\r\n                )}\r\n              >\r\n                {flair.label}\r\n              </Badge>\r\n            )}\r\n            <p className=\"text-sm text-muted-foreground/80 line-clamp-3 leading-relaxed sm:text-base\">\r\n              {post.content}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <Separator className=\"bg-border/50 w-[90%] mx-auto\" />\r\n\r\n        <div className=\"px-4 flex items-center justify-between\">\r\n          <PostVote postId={post.id} initialVotes={post.votes} />\r\n\r\n          <PostActions\r\n            commentsCount={post.commentsCount}\r\n            title={post.title}\r\n            shareUrl={`${window.location.origin}${ROUTES.POST(post.communityName, post.slug)}`}\r\n          />\r\n        </div>\r\n\r\n        <DeletePostModal\r\n          open={showDeleteModal}\r\n          onOpenChange={setShowDeleteModal}\r\n          onConfirm={handleDelete}\r\n          isLoading={isDeleting}\r\n        />\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1277, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/LoadingSpinner.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\n\r\ninterface ILoadingStateProps {\r\n  description?: string;\r\n  className?: string;\r\n}\r\n\r\nexport function LoadingSpinner({ description = \"Загрузка...\", className }: ILoadingStateProps) {\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"flex flex-col gap-4 w-full max-w-2xl mx-auto py-20 items-center justify-center\",\r\n        className\r\n      )}\r\n    >\r\n      <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\"></div>\r\n      {description && (\r\n        <p className=\"text-sm text-muted-foreground animate-pulse font-medium tracking-wide\">\r\n          {description}\r\n        </p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAOO,SAAS,eAAe,EAAE,cAAc,aAAa,EAAE,SAAS,EAAsB;IAC3F,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,kFACA;;0BAGF,6LAAC;gBAAI,WAAU;;;;;;YACd,6BACC,6LAAC;gBAAE,WAAU;0BACV;;;;;;;;;;;;AAKX;KAhBgB"}},
    {"offset": {"line": 1321, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/features/posts/components/PostList.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useWindowVirtualizer } from \"@tanstack/react-virtual\";\r\nimport Link from \"next/link\";\r\nimport { useLayoutEffect, useRef, useState } from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ROUTES } from \"@/lib/routes\";\r\n\r\nimport { PostCard } from \"./PostCard\";\r\nimport { IPostListProps } from \"./types\";\r\nimport { MaskotIcon } from \"../../../components/icons/MaskotIcon\";\r\nimport { LoadingSpinner } from \"../../../components/LoadingSpinner\";\r\n\r\nconst PostList = ({ posts, isLoading, activeTab, isAuth }: IPostListProps) => {\r\n  const listRef = useRef<HTMLDivElement>(null);\r\n  const [marginTop, setMarginTop] = useState(0);\r\n\r\n  useLayoutEffect(() => {\r\n    if (listRef.current) {\r\n      setMarginTop(listRef.current.offsetTop);\r\n    }\r\n  }, [isLoading]);\r\n\r\n  const virtualizer = useWindowVirtualizer({\r\n    count: posts.length,\r\n    estimateSize: () => 280,\r\n    scrollMargin: marginTop,\r\n    overscan: 5,\r\n  });\r\n\r\n  if (isLoading) {\r\n    return <LoadingSpinner description=\"Ищем интересное...\" />;\r\n  }\r\n\r\n  if (!isAuth && (activeTab === \"feed\" || activeTab === \"mine\")) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center py-20 text-center space-y-6\">\r\n        <MaskotIcon className=\"h-24 w-auto opacity-20 grayscale\" />\r\n        <div className=\"px-6 space-y-4 max-w-sm\">\r\n          <h3 className=\"text-xl font-bold\">Нужно войти в систему</h3>\r\n          <p className=\"text-muted-foreground text-sm\">\r\n            Чтобы просматривать {activeTab === \"feed\" ? \"свои подписки\" : \"свои публикации\"},\r\n            необходимо авторизоваться или создать аккаунт.\r\n          </p>\r\n          <div className=\"flex flex-col gap-2 pt-2\">\r\n            <Button asChild className=\"rounded-full px-10\">\r\n              <Link href={`${ROUTES.AUTH}?mode=login`}>Войти</Link>\r\n            </Button>\r\n            <Button asChild variant=\"ghost\">\r\n              <Link href={`${ROUTES.AUTH}?mode=register`}>Нет аккаунта? Регистрация</Link>\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (posts.length === 0) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center py-20 text-center space-y-6\">\r\n        <MaskotIcon className=\"h-24 w-auto opacity-10 grayscale\" />\r\n        <div className=\"px-6 space-y-2 max-w-sm\">\r\n          <h3 className=\"text-xl font-bold tracking-tight\">\r\n            {activeTab === \"feed\" ? \"Ваша лента пуста\" : \"Здесь пока ничего нет\"}\r\n          </h3>\r\n          <p className=\"text-muted-foreground text-sm leading-relaxed\">\r\n            {activeTab === \"feed\" &&\r\n              \"Подпишитесь на сообщества, чтобы видеть посты от единомышленников.\"}\r\n            {activeTab === \"mine\" && \"Вы еще не поделились своими мыслями. Самое время начать!\"}\r\n            {activeTab === \"all\" && \"Похоже, в этой вселенной еще никто не создал ни одного поста.\"}\r\n          </p>\r\n          <div className=\"pt-4 flex flex-col gap-2 items-center\">\r\n            {isAuth && activeTab === \"mine\" && (\r\n              <Button asChild className=\"rounded-full px-8\">\r\n                <Link href={ROUTES.CREATE_POST(\"\")}>Создать пост</Link>\r\n              </Button>\r\n            )}\r\n            {isAuth && activeTab === \"feed\" && (\r\n              <Button asChild variant=\"outline\" className=\"rounded-full\">\r\n                <Link href={ROUTES.ALL_COMMUNITIES}>Найти сообщества</Link>\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div ref={listRef} className=\"w-full max-w-2xl mx-auto py-6 px-4 sm:px-0\">\r\n      <div\r\n        style={{\r\n          height: `${virtualizer.getTotalSize()}px`,\r\n          width: \"100%\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        {virtualizer.getVirtualItems().map((virtualItem) => (\r\n          <div\r\n            key={virtualItem.key}\r\n            data-index={virtualItem.index}\r\n            ref={virtualizer.measureElement}\r\n            className=\"absolute top-0 left-0 w-full pb-6\"\r\n            style={{\r\n              transform: `translateY(${virtualItem.start - virtualizer.options.scrollMargin}px)`,\r\n            }}\r\n          >\r\n            <PostCard post={posts[virtualItem.index]} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PostList;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1607, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { doc, getDoc, DocumentData, QueryDocumentSnapshot } from \"firebase/firestore\";\r\nimport { Loader2 } from \"lucide-react\";\r\nimport { useEffect, useState, useRef, useCallback } from \"react\";\r\n\r\nimport { LoadingListVirtualizer } from \"@/components/LoadingListVirtualizer\";\r\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { useAuth } from \"@/context/AuthContext\";\r\nimport { db } from \"@/lib/firebase\";\r\nimport { PostsService } from \"@/services/posts.service\";\r\nimport { IPost } from \"@/types/types\";\r\n\r\nimport PostList from \"../features/posts/components/PostList\";\r\nimport { TTabType } from \"../features/posts/components/types\";\r\n\r\nexport default function Home() {\r\n  const { user, loading: authLoading } = useAuth();\r\n\r\n  const [posts, setPosts] = useState<IPost[]>([]);\r\n  const [lastVisible, setLastVisible] = useState<QueryDocumentSnapshot<DocumentData> | undefined>(\r\n    undefined\r\n  );\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [isFetchingMore, setIsFetchingMore] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [activeTab, setActiveTab] = useState<TTabType>(\"all\");\r\n\r\n  const observerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const fetchPosts = useCallback(\r\n    async (isFirstPage = false) => {\r\n      if (authLoading) return;\r\n\r\n      const currentLastVisible = isFirstPage ? undefined : lastVisible;\r\n      if (!isFirstPage && (!hasMore || isFetchingMore)) return;\r\n\r\n      if (isFirstPage) {\r\n        setLoading(true);\r\n        setPosts([]);\r\n      } else {\r\n        setIsFetchingMore(true);\r\n      }\r\n\r\n      try {\r\n        let result;\r\n        const LIMIT = 10;\r\n\r\n        switch (activeTab) {\r\n          case \"all\":\r\n            result = await PostsService.getAllPosts(LIMIT, currentLastVisible);\r\n            break;\r\n          case \"feed\": {\r\n            if (!user) {\r\n              result = { posts: [], lastVisible: null };\r\n              break;\r\n            }\r\n            const userDoc = await getDoc(doc(db, \"users\", user.uid));\r\n            const communityIds = userDoc.data()?.subscribedCommunities || [];\r\n            result =\r\n              communityIds.length > 0\r\n                ? await PostsService.getFeedPosts(communityIds, LIMIT, currentLastVisible)\r\n                : { posts: [], lastVisible: null };\r\n            break;\r\n          }\r\n          case \"mine\":\r\n            result = user\r\n              ? await PostsService.getUserPosts(user.uid, LIMIT, currentLastVisible)\r\n              : { posts: [], lastVisible: null };\r\n            break;\r\n          default:\r\n            result = { posts: [], lastVisible: null };\r\n        }\r\n\r\n        setPosts((prev) => (isFirstPage ? result.posts : [...prev, ...result.posts]));\r\n        setLastVisible(result.lastVisible ?? undefined);\r\n        setHasMore(result.posts.length === LIMIT);\r\n      } catch (error) {\r\n        console.error(\"Ошибка при загрузке постов:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n        setIsFetchingMore(false);\r\n      }\r\n    },\r\n    [user, activeTab, authLoading, lastVisible, hasMore, isFetchingMore]\r\n  );\r\n\r\n  useEffect(() => {\r\n    fetchPosts(true);\r\n  }, [activeTab, authLoading]);\r\n\r\n  useEffect(() => {\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting && hasMore && !isFetchingMore && !loading) {\r\n          fetchPosts();\r\n        }\r\n      },\r\n      { threshold: 0.5 }\r\n    );\r\n\r\n    if (observerRef.current) observer.observe(observerRef.current);\r\n    return () => observer.disconnect();\r\n  }, [fetchPosts, hasMore, isFetchingMore, loading]);\r\n\r\n  if (authLoading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-[50vh]\">\r\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-4xl mx-auto py-6 px-4\">\r\n      <Tabs\r\n        defaultValue=\"all\"\r\n        value={activeTab}\r\n        onValueChange={(v) => setActiveTab(v as TTabType)}\r\n        className=\"mb-8\"\r\n      >\r\n        <TabsList className=\"bg-transparent border-b border-border w-full justify-start rounded-none h-auto p-0 gap-6\">\r\n          <TabsTrigger\r\n            value=\"all\"\r\n            className=\"cursor-pointer rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-1 pb-2 shadow-none\"\r\n          >\r\n            Все посты\r\n          </TabsTrigger>\r\n          <TabsTrigger\r\n            value=\"feed\"\r\n            className=\"cursor-pointer rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-1 pb-2 shadow-none\"\r\n          >\r\n            Подписки\r\n          </TabsTrigger>\r\n          <TabsTrigger\r\n            value=\"mine\"\r\n            className=\"cursor-pointer rounded-none border-b-2 border-transparent data-[state=active]:border-primary data-[state=active]:bg-transparent px-1 pb-2 shadow-none\"\r\n          >\r\n            Мои посты\r\n          </TabsTrigger>\r\n        </TabsList>\r\n      </Tabs>\r\n\r\n      <PostList posts={posts} isLoading={loading} activeTab={activeTab} isAuth={!!user} />\r\n\r\n      <div ref={observerRef} className=\"py-10 flex justify-center w-full\">\r\n        <LoadingListVirtualizer\r\n          isFetchingMore={isFetchingMore}\r\n          hasMore={hasMore}\r\n          posts={posts}\r\n          textEnd=\"Вы посмотрели все публикации\"\r\n          textLoading=\"Загружаем посты...\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}