{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\r\nimport { twMerge } from \"tailwind-merge\";\r\n\r\nimport { IComment, INotification } from \"@/types/types\";\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs));\r\n}\r\n\r\nexport const generateSlug = (text: string): string => {\r\n  const rus = \"а-б-в-г-д-е-ё-ж-з-и-й-к-л-м-н-о-п-р-с-т-у-ф-х-ц-ч-ш-щ-ъ-ы-ь-э-ю-я\".split(\"-\");\r\n  const lat = \"a-b-v-g-d-e-e-zh-z-i-y-k-l-m-n-o-p-r-s-t-u-f-h-ts-ch-sh-shch--y--e-yu-ya\".split(\"-\");\r\n\r\n  let res = text.toLowerCase();\r\n\r\n  // Транслитерация\r\n  for (let i = 0; i < rus.length; i++) {\r\n    res = res.split(rus[i]).join(lat[i]);\r\n  }\r\n\r\n  return res\r\n    .replace(/[^a-z0-9]/g, \"-\")\r\n    .replace(/-+/g, \"-\")\r\n    .replace(/^-|-$/g, \"\");\r\n};\r\n\r\nexport function buildCommentTree(flatComments: IComment[]): IComment[] {\r\n  const map = new Map<string, IComment>();\r\n  const roots: IComment[] = [];\r\n\r\n  const sorted = [...flatComments].sort((a, b) => {\r\n    const aTime = a.createdAt?.seconds || 0;\r\n    const bTime = b.createdAt?.seconds || 0;\r\n    return aTime - bTime;\r\n  });\r\n\r\n  sorted.forEach((comment) => {\r\n    map.set(comment.id, { ...comment, replies: [] });\r\n  });\r\n\r\n  sorted.forEach((comment) => {\r\n    const node = map.get(comment.id)!;\r\n    if (comment.parentId) {\r\n      const parent = map.get(comment.parentId);\r\n      if (parent) {\r\n        parent.replies?.push(node);\r\n      }\r\n    } else {\r\n      roots.push(node);\r\n    }\r\n  });\r\n\r\n  return roots.sort((a, b) => b.votes - a.votes);\r\n}\r\n\r\nexport function findCommentDepth(comments: IComment[], targetId: string): number {\r\n  for (const comment of comments) {\r\n    if (comment.id === targetId) {\r\n      return comment.depth;\r\n    }\r\n    if (comment.replies && comment.replies.length > 0) {\r\n      const foundDepth = findCommentDepth(comment.replies, targetId);\r\n      if (foundDepth !== -1) {\r\n        return foundDepth;\r\n      }\r\n    }\r\n  }\r\n  return -1;\r\n}\r\n\r\nexport const getNotificationText = (type: INotification[\"type\"]) => {\r\n  switch (type) {\r\n    case \"REPLY\":\r\n      return \"ответил(а) на ваш комментарий\";\r\n    case \"POST_VOTE\":\r\n      return \"оценил(а) ваш пост\";\r\n    case \"COMMENT_VOTE\":\r\n      return \"оценил(а) ваш комментарий\";\r\n    default:\r\n      return \"новое уведомление\";\r\n  }\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;AACA;;;AAIO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AAEO,MAAM,eAAe,CAAC;IAC3B,MAAM,MAAM,oEAAoE,KAAK,CAAC;IACtF,MAAM,MAAM,2EAA2E,KAAK,CAAC;IAE7F,IAAI,MAAM,KAAK,WAAW;IAE1B,iBAAiB;IACjB,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,MAAM,EAAE,IAAK;QACnC,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,IAAI,CAAC,GAAG,CAAC,EAAE;IACrC;IAEA,OAAO,IACJ,OAAO,CAAC,cAAc,KACtB,OAAO,CAAC,OAAO,KACf,OAAO,CAAC,UAAU;AACvB;AAEO,SAAS,iBAAiB,YAAwB;IACvD,MAAM,MAAM,IAAI;IAChB,MAAM,QAAoB,EAAE;IAE5B,MAAM,SAAS;WAAI;KAAa,CAAC,IAAI,CAAC,CAAC,GAAG;QACxC,MAAM,QAAQ,EAAE,SAAS,EAAE,WAAW;QACtC,MAAM,QAAQ,EAAE,SAAS,EAAE,WAAW;QACtC,OAAO,QAAQ;IACjB;IAEA,OAAO,OAAO,CAAC,CAAC;QACd,IAAI,GAAG,CAAC,QAAQ,EAAE,EAAE;YAAE,GAAG,OAAO;YAAE,SAAS,EAAE;QAAC;IAChD;IAEA,OAAO,OAAO,CAAC,CAAC;QACd,MAAM,OAAO,IAAI,GAAG,CAAC,QAAQ,EAAE;QAC/B,IAAI,QAAQ,QAAQ,EAAE;YACpB,MAAM,SAAS,IAAI,GAAG,CAAC,QAAQ,QAAQ;YACvC,IAAI,QAAQ;gBACV,OAAO,OAAO,EAAE,KAAK;YACvB;QACF,OAAO;YACL,MAAM,IAAI,CAAC;QACb;IACF;IAEA,OAAO,MAAM,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;AAC/C;AAEO,SAAS,iBAAiB,QAAoB,EAAE,QAAgB;IACrE,KAAK,MAAM,WAAW,SAAU;QAC9B,IAAI,QAAQ,EAAE,KAAK,UAAU;YAC3B,OAAO,QAAQ,KAAK;QACtB;QACA,IAAI,QAAQ,OAAO,IAAI,QAAQ,OAAO,CAAC,MAAM,GAAG,GAAG;YACjD,MAAM,aAAa,iBAAiB,QAAQ,OAAO,EAAE;YACrD,IAAI,eAAe,CAAC,GAAG;gBACrB,OAAO;YACT;QACF;IACF;IACA,OAAO,CAAC;AACV;AAEO,MAAM,sBAAsB,CAAC;IAClC,OAAQ;QACN,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT,KAAK;YACH,OAAO;QACT;YACE,OAAO;IACX;AACF"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/icons/MaskotIcon.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\";\r\n\r\nexport function MaskotIcon({ className }: { className?: string }) {\r\n  return (\r\n    <svg\r\n      viewBox=\"0 0 200 200\"\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      className={cn(\"h-14 w-fit\", className)}\r\n    >\r\n      {/* Маскот */}\r\n      <rect x=\"70\" y=\"130\" width=\"60\" height=\"40\" rx=\"20\" className=\"fill-primary\" />\r\n      <line\r\n        x1=\"100\"\r\n        y1=\"60\"\r\n        x2=\"100\"\r\n        y2=\"30\"\r\n        strokeWidth=\"6\"\r\n        strokeLinecap=\"round\"\r\n        className=\"stroke-primary\"\r\n      />\r\n      <path\r\n        d=\"M100,50 C60,50 40,75 40,100 C40,125 60,150 100,150 C110,150 120,148 130,145 L160,155 L150,125 C157,118 160,110 160,100 C160,75 140,50 100,50 Z\"\r\n        className=\"fill-primary\"\r\n      />\r\n\r\n      {/* Оранжевый шар */}\r\n      <circle cx=\"100\" cy=\"25\" r=\"10\" className=\"fill-chart-1\" />\r\n\r\n      {/* Глаза */}\r\n      <circle cx=\"75\" cy=\"100\" r=\"8\" className=\"fill-white dark:fill-background\" />\r\n      <circle cx=\"125\" cy=\"100\" r=\"8\" className=\"fill-white dark:fill-background\" />\r\n    </svg>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEO,SAAS,WAAW,EAAE,SAAS,EAA0B;IAC9D,qBACE,8OAAC;QACC,SAAQ;QACR,OAAM;QACN,WAAW,IAAA,yHAAE,EAAC,cAAc;;0BAG5B,8OAAC;gBAAK,GAAE;gBAAK,GAAE;gBAAM,OAAM;gBAAK,QAAO;gBAAK,IAAG;gBAAK,WAAU;;;;;;0BAC9D,8OAAC;gBACC,IAAG;gBACH,IAAG;gBACH,IAAG;gBACH,IAAG;gBACH,aAAY;gBACZ,eAAc;gBACd,WAAU;;;;;;0BAEZ,8OAAC;gBACC,GAAE;gBACF,WAAU;;;;;;0BAIZ,8OAAC;gBAAO,IAAG;gBAAM,IAAG;gBAAK,GAAE;gBAAK,WAAU;;;;;;0BAG1C,8OAAC;gBAAO,IAAG;gBAAK,IAAG;gBAAM,GAAE;gBAAI,WAAU;;;;;;0BACzC,8OAAC;gBAAO,IAAG;gBAAM,IAAG;gBAAM,GAAE;gBAAI,WAAU;;;;;;;;;;;;AAGhD"}},
    {"offset": {"line": 180, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/components/ui/button.tsx"],"sourcesContent":["import { cva, type VariantProps } from \"class-variance-authority\";\r\nimport { Slot } from \"radix-ui\";\r\nimport * as React from \"react\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\r\n        outline:\r\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\r\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\r\n        xs: \"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3\",\r\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\r\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\r\n        icon: \"size-9\",\r\n        \"icon-xs\": \"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3\",\r\n        \"icon-sm\": \"size-8\",\r\n        \"icon-lg\": \"size-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n);\r\n\r\nfunction Button({\r\n  className,\r\n  variant = \"default\",\r\n  size = \"default\",\r\n  asChild = false,\r\n  ...props\r\n}: React.ComponentProps<\"button\"> &\r\n  VariantProps<typeof buttonVariants> & {\r\n    asChild?: boolean;\r\n  }) {\r\n  const Comp = asChild ? Slot.Root : \"button\";\r\n\r\n  return (\r\n    <Comp\r\n      data-slot=\"button\"\r\n      data-variant={variant}\r\n      data-size={size}\r\n      className={cn(buttonVariants({ variant, size, className }))}\r\n      {...props}\r\n    />\r\n  );\r\n}\r\n\r\nexport { Button, buttonVariants };\r\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAGA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WAAW;YACX,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wMAAI,CAAC,IAAI,GAAG;IAEnC,qBACE,8OAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 243, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/lib/routes.ts"],"sourcesContent":["export const ROUTES = {\r\n  HOME: \"/\",\r\n  AUTH: \"/sign-in\",\r\n  SETTINGS: \"/settings\",\r\n  ALL_COMMUNITIES: \"/communities\",\r\n  CREATE_COMMUNITY: \"/communities/create\",\r\n\r\n  COMMUNITY: (name: string) => `/n/${name}`,\r\n  POST: (community: string, postSlug: string) => `/n/${community}/post/${postSlug}`,\r\n  CREATE_POST: (community: string) => `/n/${community}/submit`,\r\n};\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,SAAS;IACpB,MAAM;IACN,MAAM;IACN,UAAU;IACV,iBAAiB;IACjB,kBAAkB;IAElB,WAAW,CAAC,OAAiB,CAAC,GAAG,EAAE,MAAM;IACzC,MAAM,CAAC,WAAmB,WAAqB,CAAC,GAAG,EAAE,UAAU,MAAM,EAAE,UAAU;IACjF,aAAa,CAAC,YAAsB,CAAC,GAAG,EAAE,UAAU,OAAO,CAAC;AAC9D"}},
    {"offset": {"line": 261, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/egork/projects/lessons/Netty/src/app/not-found.tsx"],"sourcesContent":["import Link from \"next/link\";\r\n\r\nimport { MaskotIcon } from \"@/components/icons/MaskotIcon\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { ROUTES } from \"@/lib/routes\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <div className=\"flex min-h-[calc(100vh-64px)] w-full flex-col items-center justify-center p-6 text-center\">\r\n      <div className=\"relative mb-1 animate-bounce duration-3000 sm:mb-8\">\r\n        <MaskotIcon className=\"h-40 w-auto opacity-80 grayscale-[0.5]\" />\r\n        <div className=\"absolute -top-4 -right-8 bg-destructive text-destructive-foreground px-3 py-1 rounded-full text-sm font-bold rotate-12 shadow-lg text-white\">\r\n          404: Потерялся?\r\n        </div>\r\n      </div>\r\n\r\n      <h1 className=\"text-4xl font-black mb-2 text-primary\">Упс! Тут пусто...</h1>\r\n      <p className=\"text-muted-foreground max-w-[400px] mb-8\">\r\n        Твой маленький помощник обнюхал каждый угол, но так и не смог найти эту страницу. Возможно,\r\n        она переехала или её никогда не существовало.\r\n      </p>\r\n\r\n      <div className=\"flex gap-4\">\r\n        <Link href={ROUTES.HOME}>\r\n          <Button variant=\"default\" className=\"font-bold px-8 cursor-pointer\">\r\n            НА ГЛАВНУЮ\r\n          </Button>\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"mt-12 text-xs text-muted-foreground/50 uppercase tracking-widest\">\r\n        Netty Security System v1.0\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;;;;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,uJAAU;wBAAC,WAAU;;;;;;kCACtB,8OAAC;wBAAI,WAAU;kCAA8I;;;;;;;;;;;;0BAK/J,8OAAC;gBAAG,WAAU;0BAAwC;;;;;;0BACtD,8OAAC;gBAAE,WAAU;0BAA2C;;;;;;0BAKxD,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC,0LAAI;oBAAC,MAAM,8HAAM,CAAC,IAAI;8BACrB,cAAA,8OAAC,4IAAM;wBAAC,SAAQ;wBAAU,WAAU;kCAAgC;;;;;;;;;;;;;;;;0BAMxE,8OAAC;gBAAI,WAAU;0BAAmE;;;;;;;;;;;;AAKxF"}}]
}